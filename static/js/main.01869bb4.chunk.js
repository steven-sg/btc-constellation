(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){var r=n(115),a=n(98),s=n(116),i=n(114),o=n(79),c=function e(t,n){"use strict";o(this,e),this.txHash=t,this.output=n},u=function(){"use strict";function e(t,n){o(this,e),this.txHash=t,this.outputs={};for(var r=0;r<n.length;r+=1)this.outputs[n[r].outputIndex]=n[r]}return i(e,[{key:"getContribution",value:function(e){return new c(this.txHash,this.outputs[e])}},{key:"getContributions",value:function(){var e=this;return Object.keys(this.outputs).map(function(t){return new c(e.txHash,e.outputs[t])})}}]),e}(),l=function(){"use strict";function e(t,n,r,a){o(this,e),this.action=t,this.object=n,this.log="".concat(t," ").concat(n),this.result=Array.isArray(r)?r:[r],this.subaction=Array.isArray(a)?a:[a]}return i(e,[{key:"hasResult",value:function(){return void 0!==this.result[0]&&null!==this.result[0]}},{key:"hasSubaction",value:function(){return void 0!==this.subaction[0]&&null!==this.subaction[0]}}]),e}(),h=function(e){"use strict";function t(e,n,s){var i;return o(this,t),(i=r(this,a(t).call(this,"Append","".concat(e," to ").concat(n),s))).from=e,i.to=n,i}return s(t,l),t}(),d=function(e){"use strict";function t(e,n,s,i){var c;return o(this,t),(c=r(this,a(t).call(this,e,"transaction::".concat(n),"transaction::".concat(s)))).transactionDict=i,c}return s(t,h),t}(),p=function(e){"use strict";function t(e,n,s){var i;return o(this,t),(i=r(this,a(t).call(this,"Convert","".concat(e," to ").concat(n),s))).from=e,i.to=n,i}return s(t,l),t}(),m=function(e){"use strict";function t(e,n,s,i){var c;return o(this,t),(c=r(this,a(t).call(this,"Replace","".concat(e," with ").concat(n),s))).transactionDict=i,c}return s(t,l),t}();e.exports={TransactionOutput:function e(t,n,r,a){"use strict";o(this,e),this.outputIndex=t,this.scriptPubKey=n,this.balance=r,this.address=a},Transaction:u,Contribution:c,Payment:function e(t,n){"use strict";o(this,e),this.to=t,this.amount=n},ActionLog:l,ConversionLog:p,AppendLog:h,AppendTransactionLog:d,ReplaceLog:m}},152:function(e,t,n){var r=n(114),a=n(79),s=n(115),i=n(98),o=n(116),c=n(153),u=n(507),l=n(47).Buffer,h=n(37).ec,d=n(532),p=n(196).Buffer,m=new h("secp256k1"),g=n(543),f=n(310).log,v=n(160).OrderedDict,y=n(121),b=y.ActionLog,E=y.ConversionLog,T=function(e){"use strict";function t(e){var n;return a(this,t),(n=s(this,i(t).call(this,e))).name="InvalidInputFormat",n.message=e,n}return o(t,e),t}(c(Error)),w=function(e){"use strict";function t(e){var n;return a(this,t),(n=s(this,i(t).call(this,e))).name="CurrencyConversionError",n.message=e,n}return o(t,e),t}(c(Error)),S=function(e){"use strict";function t(e){var n;return a(this,t),(n=s(this,i(t).call(this,e))).name="UnsupportedScriptFormat",n.message=e,n}return o(t,e),t}(c(Error)),P=function(e){"use strict";function t(e){var n;return a(this,t),(n=s(this,i(t).call(this,e))).name="InvalidScriptFormat",n.message=e,n}return o(t,e),t}(c(Error)),k=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.array=t}return r(e,[{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return this.array.join(e)}}]),e}(),C=function(){"use strict";function e(){a(this,e),this.data=[];for(var t=0;t<arguments.length;t+=1)this.data.push(t<0||arguments.length<=t?void 0:arguments[t])}return r(e,[{key:"getValues",value:function(){return this.data}}]),e}();function O(e,t){return e?"".concat(e,"::").concat(t):t}function I(e){return/^[0-9A-F]*$/i.test(e.toUpperCase())}function U(e){return/^[1-9a-km-zA-HJ-NP-Z]+$/.test(e)}function x(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?/^-?[0-9]+$/.test(e):!Number.isNaN(Number(e))}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=d.md.sha256.create();r.update(d.util.hexToBytes(e));var a=r.digest().toHex();if(t){var s=O(n.hexString,e);f(t,new b("SHA256 Hash","".concat(s),"".concat(a)))}return a}function _(e){return(new g).update(e,"hex").digest("hex")}function N(e){return _(A(e))}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.match(/.{2}/g).reverse().join("");if(t){var a=O(n.hexString,e);f(t,new E("".concat(a),"little endian","".concat(r)))}return r}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=l.alloc(t);a.writeUIntBE(e,0,t);var s=a.toString("hex");if(n){var i=O(r.convertIntegerToBytes_integer,e);f(n,new E("".concat(i),"".concat(t," bytes hex"),"".concat(s)))}return s}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=l.byteLength(e,"hex");if(t){var a=O(n.string,e);f(t,new b("Get","byte length of ".concat(a),"".concat(r)))}return r}function K(e,t){switch(t.toLowerCase()){case"satoshi":return e;case"mbtc":return 1e5*e;case"btc":return 1e8*e;default:throw new w("Unsupported conversion origin format: ".concat(t,"."))}}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.decode(e).toString("hex");if(t){var a=O(n.string,e);f(t,new b("Base58 Decode","".concat(a),"".concat(r)))}return r}function V(e){return u.encode(p.from(e,"hex"),"hex")}function L(e,t){var n=function(e,t){return H(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).slice(2,66)}(e,t,{string:"private_key"});return m.keyFromPrivate(n)}function F(e,t){var n=e.slice(2),r=n.slice(0,64),a=n.slice(64,128),s=parseInt(a.slice(-1),16)%2,i="0".concat(s+2),o=i+r;return t&&f(t,new b("Encode","public_key::".concat(e," as compressed hex"),null,[new b("Strip","public_key","".concat(n)),new b("Segment","stripped key","segment_a:".concat(r,", segment_b:").concat(a)),new b("Modulo","segment_b value by 2","".concat(s)),new b("Create Byte Prefix","from adding value 2 to the modulo and appending 0 to the start","".concat(i)),new b("Combine","the prefix with segment_a","".concat(o))])),o}function D(e,t){var n=t+e,r=A(n);return V(n+=A(r).substring(0,8))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"p2pkh",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mainnet",r=({p2pkh:{decimal:{mainnet:"0",testnet:"111"},hex:{mainnet:"00",testnet:"6f"}},p2sh:{decimal:{mainnet:"5",testnet:"196"},hex:{mainnet:"05",testnet:"c4"}}}[t]||{})[e]||{};if(r[n])return r[n];throw new T("Unrecognised argument(s).")}function G(e){return F(L(e).getPublic().encode("hex"))}function Y(e){var t=M("hex","p2pkh",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mainnet");return D(N(e),t)}e.exports={InvalidInputFormat:T,Tuple:C,isIterable:function(e){return Array.isArray(e)},joinArray:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new k;return t instanceof v?t.getKeys().forEach(function(r){e(t.getValue(r),n)}):Array.isArray(t)?t.forEach(function(t){e(t,n)}):t instanceof C?n.array.push(t.getValues()):t&&t.key&&t.value?e(t.value,n):n.array.push(t),n},convertToLittleEndian:j,convertIntegerToBytes:B,convertIntegerToLittleEndian:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return j(B(e,t,n,r),n,r)},getByteLength:R,getByteLengthInBytes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return B(R(e,t,n),1,t,n)},b58decode:H,b58encode:V,stripAddress:function(e,t){var n=e.slice(2,-8);return t&&f(t,new b("Remove","network bytes and checksum","".concat(n))),n},sha256:A,ecdsaFromPriv:L,encodePub:F,getPrivateKeyFormat:function(e){if(x(e))return"decimal";if(64===e.length&&I(e))return"hex";if(66===e.length&&I(e))return"hex_compressed";if(51===e.length&&U(e))return"wif";if(52===e.length&&U(e))return"wif_compressed";throw new T},getWifNetwork:function(e){var t=e.toLowerCase();if(t.startsWith("5")||t.startsWith("k")||t.startsWith("l"))return"mainnet";if(t.startsWith("9")||t.startsWith("c"))return"testnet";throw new T},getAddressFormat:function(e){if((e.startsWith("1")||e.startsWith("m")||e.startsWith("n"))&&U(e))return"p2pkh";if(e.startsWith("3")||e.startsWith("2"))return"p2sh";throw new T("".concat(e," does not adhere to any known format."))},getAddressNetwork:function(e){if(e.startsWith("1")||e.startsWith("3"))return"mainnet";if(e.startsWith("m")||e.startsWith("n")||e.startsWith("2"))return"testnet";throw new T("".concat(e," does not adhere to any known format."))},privToPub:G,ripemd160:_,hash160:N,getAddressPrefix:M,networkPrependDoubleHashChecksumAppendBase58:D,pubToAddress:Y,privToAddress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mainnet";return Y(G(e),t)},convertCurrencyTo:function(e,t){var n=K(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"satoshi");switch(t.toLowerCase()){case"satoshi":return n;case"mbtc":return(n/1e5).toFixed(5);case"btc":return(n/1e8).toFixed(8);default:throw new w("Unsupported conversion destination format: ".concat(t,"."))}},CurrencyConversionError:w,convertCurrencyToSatoshi:K,UnsupportedScriptFormat:S,getScriptFormat:function(e){var t=e.toLowerCase();if(t.startsWith("76a914")&&t.endsWith("88ac"))return"pay-to-pubkey-hash";throw new P("Invalid or unsupported script format. Please use pay-to-pubkey-hash.")},InvalidScriptFormat:P,isDecimalString:x,getTemplateValue:O,isBase58:U,isHexString:I}},160:function(e,t,n){var r=n(79),a=n(114),s=function(){"use strict";function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this.keys=n,this.vals={},this.keys.forEach(function(e){t.vals[e]=[]})}return a(e,[{key:"pushTo",value:function(e,t){this.keys.includes(e)||this.keys.push(e),this.vals[e].push(t)}},{key:"getValue",value:function(e){return this.vals[e]}},{key:"setValue",value:function(e,t){this.vals[e]=t}},{key:"getValues",value:function(){var e=this,t=[];return this.keys.forEach(function(n){t.push(e.vals[n])}),t}},{key:"getArray",value:function(){var t=this,n=[];return this.keys.forEach(function(r){var a=t.vals[r]&&t.vals[r].map(function(t){return t instanceof e?t.getArray():t});n.push({key:r,value:a})}),n}},{key:"getKeys",value:function(){return this.keys}},{key:"getLength",value:function(){return this.keys.length}},{key:"replace",value:function(e,t,n){for(var r=0;r<this.getLength;r+=1)if(this.key[r]===e){this.key[r]=t;break}delete this.vals[e],this.vals[t]=n}},{key:"remove",value:function(e){for(var t=0;t<this.getLength;t+=1)if(this.key[t]===e){this.key.splice(t,1);break}delete this.vals[e]}},{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return this.getValues().join(e)}}],[{key:"copy",value:function(t){var n=t.getKeys(),r=new e(n);return n.forEach(function(n){var a;a=Array.isArray(t.getValue(n))?t.getValue(n).map(function(t){return t instanceof e?e.copy(t):JSON.parse(JSON.stringify(t))}):JSON.parse(JSON.stringify(t.getValue(n))),r.setValue(n,a)}),r}}]),e}();e.exports={OrderedDict:s}},293:function(e,t){},310:function(e,t,n){var r=n(160).OrderedDict;e.exports={log:function(e,t){if(Array.isArray(e))e.push(t);else if(e instanceof r){var n=t[0],a=t[1];e.pushTo(n,a)}}}},311:function(e,t,n){var r=n(555),a=n(121),s=n(575),i=s.ServiceResponse,o=s.ServiceError,c=s.InternalError;e.exports={pushtx:function(e,t){return r.pushtx(e,t).then(function(e){return new i(e.status,e.data)}).catch(function(e){throw new o(e.response.status,e.response.data.error)})},pullMetadata:function(e){return r.pullMetadata(e).then(function(e){return new i(e.status,e.data)}).catch(function(e){throw new o(e.response.status,e.response.data.error)})},pullUnspentTransactions:function(e,t){return r.pullUnspentTransactions(e,t).then(function(t){if(!t)throw new c("An error has occured. ".concat(e," has no spendable balance."));for(var n=Array.isArray(t.data)?t.data:[t.data],r=[],s=0;s<n.length;s+=1){for(var o=n[s],u=Array.isArray(o.outputs)?o.outputs:[o.outputs],l=[],h=0;h<u.length;h+=1){var d=u[h];"pay-to-pubkey-hash"===d.script_type&&1===d.addresses.length&&d.addresses[0]===e&&l.push(new a.TransactionOutput(h,d.script,d.value,e))}r.push(new a.Transaction(o.hash,l))}return new i(t.status,r)}).catch(function(e){if(e instanceof c)throw e;throw new o(e.response.status,e.response.data.error)})}}},370:function(e,t,n){e.exports=n.p+"static/media/bitcoin-transfer.454eb946.svg"},373:function(e,t,n){e.exports=n.p+"static/media/lock.d74ea141.svg"},374:function(e,t,n){e.exports=n.p+"static/media/unlock.7450572e.svg"},384:function(e,t,n){e.exports=n.p+"static/media/automatic_contribution.1f7ca2cc.png"},385:function(e,t,n){e.exports=n.p+"static/media/manual_contribution.229177e6.png"},386:function(e,t,n){e.exports=n.p+"static/media/payment.9b1f2f1a.png"},387:function(e,t,n){e.exports=n.p+"static/media/currency.7cd9c2a9.png"},388:function(e,t,n){e.exports=n.p+"static/media/signing.a9782a6d.png"},389:function(e,t,n){e.exports=n.p+"static/media/fee.b4a968a0.png"},390:function(e,t,n){e.exports=n.p+"static/media/return_address.d5385108.png"},391:function(e,t,n){e.exports=n.p+"static/media/transaction_log.29199bf6.png"},392:function(e,t,n){e.exports=n.p+"static/media/transaction_state.ac8b438b.png"},393:function(e,t,n){e.exports=n.p+"static/media/publish_transaction.ab1658e8.png"},405:function(e,t,n){e.exports=n(727)},411:function(e,t,n){},499:function(e,t,n){var r=n(79),a=n(114),s=n(47).Buffer,i=n(48),o=n(152),c=n(310).log,u=n(160).OrderedDict,l=n(311),h=n(576),d=n(121),p=d.ActionLog,m=(d.ConversionLog,d.AppendLog),g=d.AppendTransactionLog,f=d.ReplaceLog,v=new i("115792089237316195423570985008687907852837564279074904382605163141518161494337");function y(e,t){var n=h.createScript(e),r=h.getScriptFormat(n);return c(t,new p("Create","".concat(r," script"),"".concat(n))),n}var b={VERSION_CODE:"version code",INPUT_COUNT:"input count",INPUTS:{SELF:"inputs",TRANSACTION_HASH:"transaction hash",TRANSACTION_INDEX:"transaction index",SCRIPT_PUB_KEY_LENGTH:"scriptPubKey length",SCRIPT_PUB_KEY:"scriptPubKey",SEQUENCE:"sequence"},SIGNED_INPUTS:"signed inputs",OUTPUT_COUNT:"output count",OUTPUTS:{SELF:"outputs",TRANSACTION_AMOUNT:"transaction amount",OUTPUT_SCRIPT_LENGTH:"output script length",OUTPUT_SCRIPT:"output script"},LOCK_TIME:"lock time",HASH_CODE_TYPE:"hash code type"};function E(e,t){t.push(e)}function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=n?"".concat(o.joinArray(n).join("")).concat(o.joinArray(t).join("")):o.joinArray(t).join("");if(E(e,t),r){var i=o.joinArray(e).join(""),u=o.getTemplateValue(a.appendTo.arg,i),l=o.getTemplateValue(a.appendTo.destination,s||"EMPTY");c(r,new m("".concat(u),"".concat(l),"".concat(s||"").concat(o.joinArray(t).join(""))))}}function w(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=o.joinArray(n).join(""),i=o.joinArray(t).join("");if(t.push(e),r){var l="".concat(s).concat(i)||"EMPTY",h=e instanceof u?o.joinArray(e).join(""):e,d=o.getTemplateValue(a.appendTo.arg,h);c(r,new g("".concat(d),"".concat(l),"".concat(s).concat(o.joinArray(t).join("")),u.copy(n)))}}var S=function(){"use strict";function e(t,n){r(this,e),this.contributions=t,this.payments=n,this.logger=new u([b.VERSION_CODE,b.INPUT_COUNT,b.INPUTS.SELF,b.OUTPUT_COUNT,b.OUTPUTS.SELF,b.LOCK_TIME,b.HASH_CODE_TYPE,b.SIGNED_INPUTS]),this.transactionDict=new u([b.VERSION_CODE,b.INPUT_COUNT,b.INPUTS.SELF,b.OUTPUT_COUNT,b.OUTPUTS.SELF,b.LOCK_TIME,b.HASH_CODE_TYPE]),this.versionCode="01000000",this.lockTime="00000000",this.hashCodeType="01000000"}return a(e,[{key:"setLockTime",value:function(e){this.lockTime=e}},{key:"createRawTransaction",value:function(){this.appendVersionCode(),w(o.convertIntegerToBytes(this.contributions.length,1,this.logger.getValue(b.INPUT_COUNT),{convertIntegerToBytes_integer:"input_count"}),this.transactionDict.getValue(b.INPUT_COUNT),this.transactionDict,this.logger.getValue(b.INPUT_COUNT),{appendTo:{destination:"transaction"}}),this.appendRawInputs(),w(o.convertIntegerToBytes(this.payments.length,1,this.logger.getValue(b.OUTPUT_COUNT),{convertIntegerToBytes_integer:"output_count"}),this.transactionDict.getValue(b.OUTPUT_COUNT),this.transactionDict,this.logger.getValue(b.OUTPUT_COUNT),{appendTo:{destination:"transaction"}}),this.appendOutputs(),this.appendLockTime(),this.appendHashCodeType()}},{key:"signTransaction",value:function(e){for(var t=[],n=0;n<this.contributions.length;n+=1){var r=this.transactionDict.getValue(b.INPUTS.SELF)[n],a=new u([b.INPUTS.SCRIPT_PUB_KEY]);c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new p("Set","the scriptPubKey of every other input to be empty"));for(var l=0;l<this.contributions.length;l+=1)if(n===l){var h=this.contributions[n].output.scriptPubKey,d=o.getByteLengthInBytes(h,a.getValue(b.INPUTS.SCRIPT_PUB_KEY_LENGTH),{string:"scriptPubKey"});this.transactionDict.vals.inputs[l].vals[b.INPUTS.SCRIPT_PUB_KEY_LENGTH]=d,this.transactionDict.vals.inputs[l].vals[b.INPUTS.SCRIPT_PUB_KEY]=h}else this.transactionDict.vals.inputs[l].vals[b.INPUTS.SCRIPT_PUB_KEY_LENGTH]=["00"],this.transactionDict.vals.inputs[l].vals[b.INPUTS.SCRIPT_PUB_KEY]=[""];var g=u.copy(r);g.setValue(b.INPUTS.SCRIPT_PUB_KEY,[]);var y=o.joinArray(this.transactionDict).join(""),w=o.sha256(y,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{hexString:"raw_transaction"}),S=o.sha256(w,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{hexString:"hash_of_raw transaction"}),P=o.ecdsaFromPriv(e[n],a.getValue(b.INPUTS.SCRIPT_PUB_KEY)),k=P.sign(S);c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new p("Sign","".concat(S," with private_key"),["r value: ".concat(k.r.toString()),"s value: ".concat(k.s.toString())])),k.s.gt(v.div(new i("2")))&&(k.s=v.sub(k.s),c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new p("Set","s value to be N - s (s value too big)",["".concat(k.r.toString()," - ").concat(v.toString()),k.s.toString()])));var C=s.from(k.toDER()).toString("hex");c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new p("DER Encode","signature","".concat(C)));var O="".concat(C,"01");c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new m("one byte hash code","DER encoded signature","".concat(O))),T({key:"signature_length",value:o.getByteLengthInBytes(O,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{string:"signature"})},g.getValue(b.INPUTS.SCRIPT_PUB_KEY),null,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{appendTo:{destination:"signed_script_pub_key"}}),T({key:"signature",value:O},g.getValue(b.INPUTS.SCRIPT_PUB_KEY),null,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{appendTo:{destination:"signed_script_pub_key"}});var I=P.getPublic().encode("hex");c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new p("Derive","public_key from private_key","".concat(I)));var U=void 0;if("wif_compressed"===o.getPrivateKeyFormat(e[n]))U=o.encodePub(I,a.getValue(b.INPUTS.SCRIPT_PUB_KEY));else{if("wif"!==o.getPrivateKeyFormat(e[n]))throw new Error("Please encode your private keys in wif format");U=I}T({key:"public_key_length",value:o.getByteLengthInBytes(U,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{string:"public_key"})},g.getValue(b.INPUTS.SCRIPT_PUB_KEY),null,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{appendTo:{destination:"signed_script_pub_key"}}),T({key:"public_key",value:U},g.getValue(b.INPUTS.SCRIPT_PUB_KEY),null,a.getValue(b.INPUTS.SCRIPT_PUB_KEY),{appendTo:{destination:"signed_script_pub_key"}});var x=o.joinArray(g.getValue(b.INPUTS.SCRIPT_PUB_KEY)).join(""),A=o.getByteLengthInBytes(x);g.setValue(b.INPUTS.SCRIPT_PUB_KEY_LENGTH,[A]),g.setValue(b.INPUTS.SCRIPT_PUB_KEY,g.getValue(b.INPUTS.SCRIPT_PUB_KEY));var _=u.copy(this.transactionDict);_.vals.inputs[n]=u.copy(g),c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new f("script length","".concat(A),null,_)),c(a.getValue(b.INPUTS.SCRIPT_PUB_KEY),new f("script","".concat(x),null,_)),E([a],this.logger.getValue(b.SIGNED_INPUTS)),t.push(g)}this.transactionDict.vals.inputs=t,this.transactionDict.remove(b.HASH_CODE_TYPE)}},{key:"appendVersionCode",value:function(){w(this.versionCode,this.transactionDict.getValue(b.VERSION_CODE),this.transactionDict,this.logger.getValue(b.VERSION_CODE),{appendTo:{arg:"version_code",destination:"transaction"}})}},{key:"appendLockTime",value:function(){w(this.lockTime,this.transactionDict.getValue(b.LOCK_TIME),this.transactionDict,this.logger.getValue(b.LOCK_TIME),{appendTo:{arg:"lock_time",destination:"transaction"}})}},{key:"appendHashCodeType",value:function(){w(this.hashCodeType,this.transactionDict.getValue(b.HASH_CODE_TYPE),this.transactionDict,this.logger.getValue(b.HASH_CODE_TYPE),{appendTo:{arg:"hash_code_type",destination:"transaction"}})}},{key:"appendRawInputs",value:function(){for(var e=0;e<this.contributions.length;e+=1){var t=this.contributions[e],n=t.txHash,r=t.output.outputIndex,a=t.output.scriptPubKey,s=new u([b.INPUTS.TRANSACTION_HASH,b.INPUTS.TRANSACTION_INDEX,b.INPUTS.SCRIPT_PUB_KEY_LENGTH,b.INPUTS.SCRIPT_PUB_KEY,b.INPUTS.SEQUENCE]),i=new u([b.INPUTS.TRANSACTION_HASH,b.INPUTS.TRANSACTION_INDEX,b.INPUTS.SCRIPT_PUB_KEY_LENGTH,b.INPUTS.SCRIPT_PUB_KEY,b.INPUTS.SEQUENCE]);T(o.convertToLittleEndian(n,s.getValue(b.INPUTS.TRANSACTION_HASH),{hexString:"transaction_hash"}),i.getValue(b.INPUTS.TRANSACTION_HASH),i,s.getValue(b.INPUTS.TRANSACTION_HASH),{appendTo:{destination:"input_".concat(e)}}),T(o.convertIntegerToLittleEndian(r,4,s.getValue(b.INPUTS.TRANSACTION_INDEX),{convertIntegerToBytes_integer:"transaction_output_index",hexString:"transaction_output_index"}),i.getValue(b.INPUTS.TRANSACTION_INDEX),i,s.getValue(b.INPUTS.TRANSACTION_INDEX),{appendTo:{destination:"input_".concat(e)}}),T(o.getByteLengthInBytes(a,s.getValue(b.INPUTS.SCRIPT_PUB_KEY_LENGTH),{string:"script_pub_key"}),i.getValue(b.INPUTS.SCRIPT_PUB_KEY_LENGTH),i,s.getValue(b.INPUTS.SCRIPT_PUB_KEY_LENGTH),{appendTo:{destination:"input_".concat(e)}}),T(a,i.getValue(b.INPUTS.SCRIPT_PUB_KEY),i,s.getValue(b.INPUTS.SCRIPT_PUB_KEY),{appendTo:{arg:"script_pub_key",destination:"input_".concat(e)}}),T("ffffffff",i.getValue(b.INPUTS.SEQUENCE),i,s.getValue(b.INPUTS.SEQUENCE),{appendTo:{arg:"sequence",destination:"input_".concat(e)}}),E([s],this.logger.getValue(b.INPUTS.SELF)),w(i,this.transactionDict.getValue(b.INPUTS.SELF),this.transactionDict,this.logger.getValue(b.INPUTS.SELF)[e],{appendTo:{arg:"input_".concat(e),destination:"transaction"}})}}},{key:"appendOutputs",value:function(){for(var e=0;e<this.payments.length;e+=1){var t=new u([b.OUTPUTS.TRANSACTION_AMOUNT,b.OUTPUTS.OUTPUT_SCRIPT_LENGTH,b.OUTPUTS.OUTPUT_SCRIPT]),n=new u([b.OUTPUTS.TRANSACTION_AMOUNT,b.OUTPUTS.OUTPUT_SCRIPT_LENGTH,b.OUTPUTS.OUTPUT_SCRIPT]),r=this.payments[e];T(o.convertIntegerToLittleEndian(r.amount,8,t.getValue(b.OUTPUTS.TRANSACTION_AMOUNT),{convertIntegerToBytes_integer:"amount",hexString:"amount"}),n.getValue(b.OUTPUTS.TRANSACTION_AMOUNT),n,t.getValue(b.OUTPUTS.TRANSACTION_AMOUNT),{appendTo:{destination:"output_".concat(e)}});var a=y(r.to);T(o.getByteLengthInBytes(a,t.getValue(b.OUTPUTS.TRANSACTION_AMOUNT),{string:"output_script"}),n.getValue(b.OUTPUTS.OUTPUT_SCRIPT_LENGTH),n,t.getValue(b.OUTPUTS.OUTPUT_SCRIPT_LENGTH),{appendTo:{destination:"output_".concat(e)}}),T(a,n.getValue(b.OUTPUTS.OUTPUT_SCRIPT),n,t.getValue(b.OUTPUTS.OUTPUT_SCRIPT),{appendTo:{arg:"output_script",destination:"output_".concat(e)}}),E([t],this.logger.getValue(b.OUTPUTS.SELF)),w(n,this.transactionDict.getValue(b.OUTPUTS.SELF),this.transactionDict,this.logger.getValue(b.OUTPUTS.SELF)[e],{appendTo:{arg:"output_".concat(e),destination:"transaction"}})}}},{key:"pushtx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"testnet",t=o.joinArray(this.transactionDict).join("");return l.pushtx(t,e).then(function(e){return e}).catch(function(e){throw e})}},{key:"getRawString",value:function(){return o.joinArray(this.transactionDict).join("")}},{key:"getSize",value:function(){return o.getByteLength(this.getRawString())}}]),e}();e.exports={ModularTransaction:S,createSignedTransaction:function(e,t,n){var r=new S(e,t);return r.createRawTransaction(),r.signTransaction(n),r}}},502:function(e,t){},512:function(e,t){},546:function(e,t){},548:function(e,t){},555:function(e,t,n){var r=n(556);e.exports={pushtx:function(e){var t="MAINNET"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"testnet").toUpperCase()?"main":"test3";return r.post("https://api.blockcypher.com/v1/btc/".concat(t,"/txs/push"),JSON.stringify({tx:e}))},pullMetadata:function(){var e="MAINNET"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"testnet").toUpperCase()?"main":"test3";return r.get("https://api.blockcypher.com/v1/btc/".concat(e))},pullUnspentTransactions:function(e){var t="MAINNET"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"testnet").toUpperCase()?"main":"test3";return r.get("https://api.blockcypher.com/v1/btc/".concat(t,"/addrs/").concat(e,"?unspentOnly=true")).then(function(e){var n=Array.isArray(e.data.txrefs)?e.data.txrefs:[e.data.txrefs];if(!n[0])return null;var a=[];if(n.forEach(function(e){!a.includes(e.tx_hash)&&e.confirmations>=6&&a.push(e.tx_hash)}),!a.length)return null;var s=a.join(";");return r.get("https://api.blockcypher.com/v1/btc/".concat(t,"/txs/").concat(s))})}}},575:function(e,t,n){var r=n(79),a=n(115),s=n(98),i=n(116),o=n(153),c=function(e){"use strict";function t(e,n){var i;return r(this,t),(i=a(this,s(t).call(this,n))).status=e,i.name="ServiceError",i}return i(t,e),t}(o(Error)),u=function(e){"use strict";function t(e){var n;return r(this,t),(n=a(this,s(t).call(this,e))).message=e,n}return i(t,e),t}(o(Error));e.exports={ServiceError:c,ServiceResponse:function e(t,n){"use strict";r(this,e),this.status=t,this.data=n},InternalError:u}},576:function(e,t,n){var r=n(114),a=n(79),s=n(115),i=n(98),o=n(116),c=n(153),u=n(152),l=function(e){"use strict";function t(e){var n;return a(this,t),(n=s(this,i(t).call(this,e))).name="InvalidScriptFormat",n.message=e,n}return o(t,e),t}(c(Error)),h=function(){"use strict";function e(){a(this,e)}return r(e,null,[{key:"createScript",value:function(e){var t=u.b58decode(e),n=u.stripAddress(t);return[118..toString(16),169..toString(16),14,n,136..toString(16),172..toString(16)].join("")}}]),e}(),d=function(){"use strict";function e(){a(this,e)}return r(e,null,[{key:"createScript",value:function(e){var t=u.b58decode(e),n=u.stripAddress(t);return"a914".concat(n,"87")}}]),e}();e.exports={p2pkh:h,P2SH:d,createScript:function(e){switch(u.getAddressFormat(e).toUpperCase()){case"P2PKH":return h.createScript(e);case"P2SH":return d.createScript(e);default:throw new Error("Invalid address format.")}},getScriptFormat:function(e){var t=e.toUpperCase();if(t.startsWith("76A914")&&t.endsWith("88AC"))return"pay-to-pubkey-hash";if(t.startsWith("A914")&&t.endsWith("87"))return"pay-to-script-hash";throw new l("Invalid or unsupported script format. Please use pay-to-pubkey-hash.")}}},577:function(e,t,n){var r=n(79),a=n(115),s=n(98),i=n(116),o=n(153),c=function(e){"use strict";function t(e){var n;return r(this,t),(n=a(this,s(t).call(this,e))).name="CurrencyConversionError",n.message=e,n}return i(t,e),t}(o(Error)),u=function(e){"use strict";function t(e){var n;return r(this,t),(n=a(this,s(t).call(this,e))).name="UnsupportedScriptFormat",n.message=e,n}return i(t,e),t}(o(Error)),l=function(e){"use strict";function t(e){var n;return r(this,t),(n=a(this,s(t).call(this,e))).name="InvalidScriptFormat",n.message=e,n}return i(t,e),t}(o(Error));function h(e,t){switch(t.toLowerCase()){case"satoshi":return e;case"mbtc":return 1e5*e;case"btc":return 1e8*e;default:throw new c("Unsupported conversion origin format: ".concat(t,"."))}}e.exports={formatFee:function(e){return 1e3*e/e},convertCurrencyTo:function(e,t){var n=h(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"satoshi");switch(t.toLowerCase()){case"satoshi":return n;case"mbtc":return(n/1e5).toFixed(5);case"btc":return(n/1e8).toFixed(8);default:throw new c("Unsupported conversion destination format: ".concat(t,"."))}},CurrencyConversionError:c,convertCurrencyToSatoshi:h,UnsupportedScriptFormat:u,getScriptFormat:function(e){var t=e.toUpperCase();if(t.startsWith("76A914")&&t.endsWith("88AC")&&/^[0-9A-F]+$/.test(t))return"pay-to-pubkey-hash";throw new l("Invalid or unsupported script format. Please use pay-to-pubkey-hash.")},InvalidScriptFormat:l}},578:function(e,t,n){var r=n(152),a=n(121).Payment;function s(e,t){var n=t.toUpperCase();if("BYTES"===n||"BYTE"===n)return e;if("KB"===n)return e/1e3;throw new Error("Unrecognised format.")}e.exports={formatSize:s,getFeeRate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bytes";return t/s(r.getByteLength(e.getRawString()),n)},getTotalFees:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bytes";return t*s(r.getByteLength(e.getRawString()),n)},calculateChangePayment:function(e,t,n){return new a(n,e-t)}}},70:function(e,t){e.exports={darkPurple:"#100C19",lightPurple:"#44404E",lighterPurple:"#756e87",red:"#ED4141",gold:"#FFE438",lightLime:"#C6F0C6",lime:"#9CE09C",darkLime:"#71CC71",lightPink:"#C24678",darkPink:"#AA4E73"}},727:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(108),i=n.n(s),o=(n(410),n(411),n(17)),c=n(20),u=n(19),l=n(15),h=n(18),d=n(69),p=n(746),m=n(738),g=n(728),f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e,t){var r=t.value;return n.props.callback(r)},n.state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{flexGrow:"1",display:"flex"}},a.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},a.a.createElement("h1",{style:{color:"white"}},"Welcome"),a.a.createElement("p",{style:{color:"white"}},"Click one of the buttons on the right to begin.")),a.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto",marginTop:"0.5rem"}},a.a.createElement(g.a,{style:{flexGrow:1,margin:"0.5rem",fontWeight:"bolder",opacity:.9},value:"mainnet",onClick:this.handleClick,size:"large",color:"violet"},"Create Mainnet Transaction"),a.a.createElement(g.a,{style:{flexGrow:1,margin:"0.5rem",fontWeight:"bolder",opacity:.9},value:"testnet",onClick:this.handleClick,size:"large",color:"violet"},"Create Testnet Transaction"),a.a.createElement(g.a,{style:{flexGrow:1,margin:"0.5rem",fontWeight:"bolder",opacity:.9},value:"tutorial",onClick:this.handleClick,size:"large",color:"violet"},"Tutorial")))}}]),t}(r.Component),v=n(745),y=n(68),b=n(29),E=n(739),T=n(744),w=n(8),S=n(395),P=function e(t,n){Object(o.a)(this,e),this.success=t,n?this.error=n:t||(this.error=new Error("You've encountered an unexpected Error."))},k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).name="ValidationError",n.message=e,n}return Object(h.a)(t,e),t}(Object(S.a)(Error));function C(e){switch(e){case"btc":return 1e-8;case"mbtc":return 1e-5;case"satoshi":default:return 1}}var O=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).getInitialFormValues=function(e){return e?{"Transaction Hash":"68e7da9216d4e113df7918383258f7cec0a5cf661f469f68966aadf6a12358d3","Output Index":"0",ScriptPubKey:"76a914328dbf4cbeacc2898f096ffce5f9dcd27b53e5cc88ac",Balance:"20000000"}:{"Transaction Hash":"","Output Index":"",ScriptPubKey:"",Balance:""}},n.validate=function(e,t){switch(e){case"Transaction Hash":return w.utils.isHexString(t)?new P(!0):new P(!1,new Error("The input string is not in hex format."));case"Output Index":return new P(!0);case"ScriptPubKey":try{return t.length&&w.unloggedUtils.getScriptFormat(t),new P(!0)}catch(n){return new P(!1,n)}case"Balance":return new P(!0);default:return}},n.validateSubmission=function(){return!(n.state["Transaction Hash error"]||n.state["Output Index error"]||n.state["ScriptPubKey error"]||n.state["balance error"])&&n.state["Transaction Hash"]&&n.state["Output Index"]&&n.state.ScriptPubKey&&n.state.Balance?new P(!0):new P(!1,new k("Please ensure that all required fields are filled."))},n.appendError=function(e,t,n){var r=e.slice(0),a=!1;return r.forEach(function(e,s){a||e.field!==t||(r[s].message=n.message,a=!0)}),a||r.push({field:t,message:n.message}),r},n.removeError=function(e,t){return e.filter(function(e){return e.field!==t})},n.handleChange=function(e,t){var r,a=t.name,s=t.value,i=n.validate(a,s),o=i.success,c=i.error,u="".concat(a," error"),l=o?n.removeError(n.state.errorList,a):n.appendError(n.state.errorList,a,c),h=(r={},Object(b.a)(r,a,s),Object(b.a)(r,u,!o),Object(b.a)(r,"otherError",!1),Object(b.a)(r,"errorList",l),r);n.setState(h)},n.handleSubmit=function(){var e=n.validateSubmission(),t=e.success,r=e.error;if(t){var a=w.unloggedUtils.convertCurrencyTo(n.state.Balance,"satoshi",n.props.currency),s=[new w.model.transaction.TransactionOutput(Number(n.state["Output Index"]).toString(),n.state.ScriptPubKey,a)],i=new w.model.transaction.Transaction(n.state["Transaction Hash"],s),o=n.props.addTransactions(i);o.success||n.setState({otherError:o.error.message})}else n.setState({otherError:r.message})};var r=n.getInitialFormValues(n.props.tutorial);return n.state=Object(y.a)({},{errorList:[],"Transaction Hash error":!1,"Output Index error":!1,"ScriptPubKey error":!1,"balance error":!1,otherError:!1},r),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.contributions.length!==this.props.contributions.length&&this.setState({otherError:!1})}},{key:"render",value:function(){var e=this.state.otherError,t=this.state["Transaction Hash error"],n=this.state["Output Index error"],r=this.state["ScriptPubKey error"],s=this.state["balance error"],i=t||n||r||s||e&&e.length>0;return a.a.createElement(E.a,{onSubmit:this.handleSubmit,error:i,style:{margin:"0"}},a.a.createElement(T.a,{error:!0,header:"Invalid Input",content:a.a.createElement("p",{style:{overflowWrap:"break-word"}},e||this.state.errorList.length&&this.state.errorList[0].message)}),a.a.createElement(E.a.Group,null,a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"Transaction Hash",name:"Transaction Hash",value:this.state["Transaction Hash"],onChange:this.handleChange,placeholder:"Transaction Hash",width:10,error:t}),a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"Output Index",name:"Output Index",value:this.state["Output Index"],onChange:this.handleChange,placeholder:"Output Index",width:6,type:"number",min:0,error:n})),a.a.createElement(E.a.Group,null,a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"ScriptPubKey",name:"ScriptPubKey",value:this.state.ScriptPubKey,onChange:this.handleChange,placeholder:"ScriptPubKey",width:10,error:r}),a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"Balance",name:"Balance",value:this.state.Balance,onChange:this.handleChange,placeholder:"Balance (".concat(this.props.currency,")"),width:6,type:"number",min:0,error:s,step:this.stepSize})),a.a.createElement(E.a.Button,{content:"Add Contribution",disabled:i}))}},{key:"stepSize",get:function(){return C(this.props.currency.toLowerCase())}}]),t}(r.Component),I=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).validate=function(e,t){switch(e){case"Bitcoin Address":if(!t.length)return new P(!0);try{var r=w.utils.getAddressFormat(t).toUpperCase();if("P2PKH"!==r)return new P(!1,new Error("Address type ".concat(r," is not supported. Please supply a P2PKH address.")))}catch(i){return i instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Unrecognised address format. Please supply a P2PKH address.")):new P(!1,new Error("An unexpected error has occurred."))}try{var a=w.utils.getAddressNetwork(t).toUpperCase(),s=n.props.network.toUpperCase();if(a!==s)return new P(!1,new Error("This address belongs to an compatible network: ".concat(a,".\n              Please use an address from the ").concat(s," or create a new ").concat(a," transaction.")))}catch(i){return i instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Unrecognised address network. Please supply a P2PKH address.")):new P(!1,new Error("An unexpected error has occurred."))}return new P(!0);default:return}},n.validateSubmission=function(){return n.state["Bitcoin Address error"]||!n.state["Bitcoin Address"]?new P(!1,new k("Please ensure that all required fields are filled.")):new P(!0)},n.handleChange=function(e,t){var r,a=t.name,s=t.value,i=n.validate(a,s),o=i.success,c=i.error,u="".concat(a," error"),l=o?n.removeError(n.state.errorList,a):n.appendError(n.state.errorList,a,c),h=(r={},Object(b.a)(r,a,s),Object(b.a)(r,u,!o),Object(b.a)(r,"otherError",!1),Object(b.a)(r,"errorList",l),r);n.setState(h)},n.handleSubmit=function(){var e=n.validateSubmission(),t=e.success,r=e.error;t?w.services.pullUnspentTransactions(n.state["Bitcoin Address"],n.props.network).then(function(e){for(var t=e.data,r=[],a=function(e){var n=t[e].outputs,a=Object.keys(n).map(function(r){var a=[new w.model.transaction.TransactionOutput(n[r].outputIndex.toString(),n[r].scriptPubKey,n[r].balance)];return new w.model.transaction.Transaction(t[e].txHash,a)});r=r.concat(a)},s=0;s<t.length;s++)a(s);var i=n.props.addTransactions(r);i.success||n.setState({otherError:i.error.message})}).catch(function(e){if(429===e.status)n.setState({otherError:"ERROR 429: Too Many Request. This request is being rate limited. Try again with a different input or use the manual input alternative."});else{var t=e.message||"".concat(e.status);n.setState({otherError:t})}}):n.setState({otherError:r.message})},n.appendError=function(e,t,n){var r=e.slice(0),a=!1;return r.forEach(function(e,s){a||e.field!==t||(r[s].message=n.message,a=!0)}),a||r.push({field:t,message:n.message}),r},n.removeError=function(e,t){return e.filter(function(e){return e.field!==t})},n.state={errorList:[],"Bitcoin Address":"","Bitcoin Address error":!1,otherError:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.otherError,t=this.state["Bitcoin Address error"],n=t||e&&e.length>0;return a.a.createElement(E.a,{onSubmit:this.handleSubmit,error:n,style:{margin:"0.5rem"}},a.a.createElement(T.a,{error:!0,header:"Invalid Input",content:a.a.createElement("p",{style:{overflowWrap:"break-word"}},e||this.state.errorList.length&&this.state.errorList[0].message)}),a.a.createElement(E.a.Group,null,a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"Bitcoin Address",name:"Bitcoin Address",value:this.state["Bitcoin Address"],onChange:this.handleChange,placeholder:"Bitcoin Address",width:16,error:t})),a.a.createElement(E.a.Button,{content:"Add Contribution",disabled:n}))}}]),t}(r.Component),U=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{margin:"0 0.5rem 0.5rem 0.5rem"}},a.a.createElement(v.a,{menu:{pointing:!0,attached:!0},defaultActiveIndex:this.props.tutorial?1:0,panes:[{menuItem:"Automatic",render:function(){return a.a.createElement(v.a.Pane,null,a.a.createElement(I,{network:e.props.network,addTransactions:e.props.addTransactions}))}},{menuItem:"Manual",render:function(){return a.a.createElement(v.a.Pane,null,a.a.createElement(O,{addTransactions:e.props.addTransactions,currency:e.props.currency,contributions:e.props.contributions,tutorial:e.props.tutorial}))}}]}))}}]),t}(r.Component),x=n(240),A=n(179),_=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e,t){var r=t.txhash,a=t.outputindex;n.props.callback(r,a)},n.convertbalance=function(e){return w.unloggedUtils.convertCurrencyTo(e,n.props.currency)},n.renderSegments=function(){return n.props.contributions.map(function(e){var t="".concat(e.txHash,":").concat(e.output.outputIndex);return a.a.createElement(x.a,{key:t,style:{display:"flex",alignItems:"center"}},a.a.createElement(g.a,{style:{boxShadow:"none\u0192",marginRight:"1rem"},basic:!0,size:"small",icon:"times",onClick:n.handleClick,txhash:e.txHash,outputindex:e.output.outputIndex}),a.a.createElement("div",{style:{display:"inline",flexGrow:1,marginBottom:"0",marginRight:"1rem",overflowX:"auto"}},a.a.createElement("p",{style:{marginBottom:0}},t),a.a.createElement("p",{style:{opacity:"0.75",wordBreak:"break-word"}},"script: ".concat(e.output.scriptPubKey))),a.a.createElement("p",{style:{display:"inline",overflowX:"auto"}},"".concat(n.convertbalance(e.output.balance)," ").concat(n.props.currency)))})},n.state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,margin:"0.5rem"}},a.a.createElement(x.a.Group,{style:{margin:0}},this.renderSegments()),a.a.createElement("div",{style:{flexGrow:1,flexShrink:0,display:"flex"}},a.a.createElement(A.a,{handleHeight:!0},function(t,n){return n<70?a.a.createElement("div",null):a.a.createElement("div",{style:{flexGrow:1,flexShrink:0,borderStyle:"dashed",borderRadius:"20px",borderWidth:"0.25rem",borderColor:"white",color:"white",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.props.contributions.length?"0.5rem":0}},a.a.createElement("div",{style:{color:"white"}},"Add Contributions"))})))}}]),t}(r.Component),N=n(396),j=n(741),B=[{key:0,text:"Satoshi",value:"Satoshi"},{key:1,text:"mBTC",value:"mBTC"},{key:2,text:"BTC",value:"BTC"}],R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e,t){var r=t.value;n.props.callback(r)},n.state={dropdownValue:B[0].value},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.currency,t=w.unloggedUtils.convertCurrencyTo(this.props.balance,e);return a.a.createElement(N.a,{style:{margin:"0.5rem"}},a.a.createElement(N.a.Menu,{position:"right"},a.a.createElement("div",{className:"ui transparent icon input"},a.a.createElement("input",{className:"prompt",style:{textAlign:"right"},type:"text",placeholder:"Balance",value:t,disabled:!0})),a.a.createElement(j.a,{item:!0,upward:this.props.upward,value:e,options:B,onChange:this.handleChange})))}}]),t}(r.Component),K=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).appendToTransaction=function(e){var t=n.state.txs.slice(0);t.push(e),n.setState({txs:t})},n.getContributions=function(){var e=[];return n.state.txs.forEach(function(t){return e=e.concat(t.getContributions())}),e},n.state={txs:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.contributions;return a.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column"}},a.a.createElement("div",{style:{overflowY:"scroll",flexGrow:1,display:"flex",flexDirection:"column",margin:"0.5rem 0.5rem 0 0"}},a.a.createElement(U,{addTransactions:this.props.addTransactions,currency:this.props.currency,contributions:e,tutorial:this.props.tutorial,network:this.props.network}),a.a.createElement(_,{contributions:e,callback:this.props.removeTransaction,currency:this.props.currency})),a.a.createElement(R,{balance:this.props.balance,currency:this.props.currency,callback:this.props.setCurrency,upward:!0}))}}]),t}(r.Component),H=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e,t){var r=t.address,a=t.amount;n.props.callback(r,a)},n.convertAmount=function(e){return w.unloggedUtils.convertCurrencyTo(e,n.props.currency)},n.renderSegments=function(){return n.props.payments.map(function(e,t){return a.a.createElement(x.a,{style:{display:"flex",alignItems:"center"},key:t},a.a.createElement(g.a,{style:{boxShadow:"none\u0192",marginRight:"1rem"},basic:!0,size:"small",icon:"times",onClick:n.handleClick,address:e.to,amount:e.amount}),a.a.createElement("p",{style:{display:"inline",flexGrow:1,marginBottom:"0",marginRight:"1rem",overflowX:"auto"}},e.to),a.a.createElement("p",{style:{display:"inline",overflowX:"auto"}},"".concat(n.convertAmount(e.amount)," ").concat(n.props.currency)))})},n.state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexShrink:1,flexGrow:1,overflowY:"scroll",overflowX:"auto",paddingRight:"0.5rem",margin:"0.5rem"}},a.a.createElement(x.a.Group,{style:{margin:0}},this.renderSegments()),a.a.createElement("div",{style:{flexGrow:1,flexShrink:0,display:"flex"}},a.a.createElement(A.a,{handleHeight:!0},function(t,n){return n<70?a.a.createElement("div",null):a.a.createElement("div",{style:{flexGrow:1,flexShrink:0,borderStyle:"dashed",borderRadius:"20px",borderWidth:"0.25rem",borderColor:"white",color:"white",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.props.payments.length?"0.5rem":0}},a.a.createElement("div",{style:{color:"white"}},"Add Payments"))})))}}]),t}(r.Component),V=n(743),L=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).getInitialFormValues=function(e){return e?{"Bitcoin Address":"mjUDEsMXuYFZSrERVZjzHpznNJFzNUBoop",Amount:"10000000"}:{"Bitcoin Address":"",Amount:""}},n.validate=function(e,t){switch(e){case"Bitcoin Address":if(!t.length)return new P(!0);try{var r=w.utils.getAddressFormat(t).toUpperCase();if("P2PKH"!==r&&"P2SH"!==r)return new P(!1,new Error("Address type ".concat(r," is not supported. Please supply a P2PKH/P2SH address.")))}catch(i){return i instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Unrecognised address format. Please supply a P2PKH/P2SH address.")):new P(!1,new Error("An unexpected error has occurred."))}try{var a=w.utils.getAddressNetwork(t).toUpperCase(),s=n.props.network.toUpperCase();if(a!==s)return new P(!1,new Error("This address belongs to an incompatible network: ".concat(a,".\n              Please use an address from the ").concat(s," or create a new ").concat(a," transaction.")))}catch(i){return i instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Unrecognised address network. Please supply a P2PKH/P2SH address.")):new P(!1,new Error("An unexpected error has occurred."))}return new P(!0);case"Amount":return new P(!0);default:return}},n.validateSubmission=function(){return!n.state["Bitcoin Address error"]&&!n.state["Amount error"]&&n.state["Bitcoin Address"]&&n.state["Bitcoin Address"].length&&n.state.Amount&&n.state.Amount.length?new P(!0):new P(!1,new k("Please ensure that all required fields are filled."))},n.handleChange=function(e,t){var r,a=t.name,s=t.value,i=n.validate(a,s),o=i.success,c=i.error,u="".concat(a," error"),l=o?n.removeError(n.state.errorList,a):n.appendError(n.state.errorList,a,c),h=(r={},Object(b.a)(r,a,s),Object(b.a)(r,u,!o),Object(b.a)(r,"otherError",!1),Object(b.a)(r,"errorList",l),r);n.setState(h)},n.handleSubmit=function(){var e=n.validateSubmission(),t=e.success,r=e.error;if(t){var a=w.unloggedUtils.convertCurrencyTo(n.state.Amount,"satoshi",n.props.currency),s=new w.model.transaction.Payment(n.state["Bitcoin Address"],a),i=n.props.callback(s);i.success||n.setState({otherError:i.error.message})}else n.setState({otherError:r.message})},n.appendError=function(e,t,n){var r=e.slice(0),a=!1;return r.forEach(function(e,s){a||e.field!==t||(r[s].message=n.message,a=!0)}),a||r.push({field:t,message:n.message}),r},n.removeError=function(e,t){return e.filter(function(e){return e.field!==t})};var r=n.getInitialFormValues(n.props.tutorial);return n.state=Object(y.a)({},{errorList:[],"Amount error":!1,"Bitcoin Address error":!1,otherError:!1},r),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.otherError,t=this.state["Bitcoin Address error"],n=this.state["Amount error"],r=t||n||e&&e.length>0;return a.a.createElement("div",{style:{margin:"0.5rem"}},a.a.createElement(V.a,{style:{width:"100%"}},a.a.createElement(V.a.Content,null,a.a.createElement(E.a,{onSubmit:this.handleSubmit,error:r,style:{margin:"0"}},a.a.createElement(T.a,{error:!0,header:"Invalid Input",content:a.a.createElement("p",{style:{overflowWrap:"break-word"}},e||this.state.errorList.length&&this.state.errorList[0].message)}),a.a.createElement(E.a.Group,null,a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"Bitcoin Address",name:"Bitcoin Address",value:this.state["Bitcoin Address"],onChange:this.handleChange,placeholder:"Bitcoin Address",width:10,error:t}),a.a.createElement(E.a.Input,{style:{marginBottom:"1rem"},label:"Amount",name:"Amount",value:this.state.Amount,onChange:this.handleChange,placeholder:"Amount",width:6,type:"number",min:0,error:n,step:this.stepSize})),a.a.createElement(E.a.Button,{content:"Add Payment",disabled:r})))))}},{key:"stepSize",get:function(){return C(this.props.currency.toLowerCase())}}]),t}(r.Component),F=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{width:"100%",flexGrow:1,display:"flex",flexDirection:"column"}},a.a.createElement(R,{balance:this.props.balance,currency:this.props.currency,callback:this.props.setCurrency,upward:!1}),a.a.createElement(L,{callback:this.props.callback,currency:this.props.currency,network:this.props.network,tutorial:this.props.tutorial}),a.a.createElement(H,{payments:this.props.payments,currency:this.props.currency,callback:this.props.removePayment}))}}]),t}(r.Component),D=function(){return a.a.createElement("div",null,"Error")},M=n(70),G=n(737),Y=n(749),W=(r.Component,n(370)),z=n.n(W),q=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).validateAddress=function(e){if(!e.length)return new P(!0);try{var t=w.utils.getAddressFormat(e).toUpperCase();if("P2PKH"!==t)return new P(!1,new Error("Address type ".concat(t," is not supported. Please supply a P2PKH address.")))}catch(s){return s instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Unrecognised address format. Please supply a P2PKH address.")):new P(!1,new Error("An unexpected error has occurred."))}try{var r=w.utils.getAddressNetwork(e).toUpperCase(),a=n.props.network.toUpperCase();if(r!==a)return new P(!1,new Error("This address belongs to an compatible network: ".concat(r,".\n          Please use an address from the ").concat(a," or create a new ").concat(r," transaction.")))}catch(s){return s instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Unrecognised address network. Please supply a P2PKH address.")):new P(!1,new Error("An unexpected error has occurred."))}return new P(!0)},n.handleChange=function(e,t){var r=t.value,a=n.validateAddress(r);a.success?(n.setState({value:r,error:!1,errorMessage:""}),n.props.setReturnAddress(r)):n.setState({error:!0,errorMessage:a.error.message,triggerAnimation:!n.state.triggerAnimation})},n.handleSearchChange=function(e,t){var r=t.searchQuery,a=n.validateAddress(r);a.success?n.setState({searchQuery:r,error:!1,errorMessage:"",triggerAnimation:!1}):n.setState({searchQuery:r,error:!0,errorMessage:a.error.message,triggerAnimation:!0})};var r=e.addresses.map(function(e){return{key:e,value:e,text:e}});return r.push({key:"",value:"",text:"None"}),n.state={searchQuery:e.returnAddress,value:e.tutorial?e.addresses[0]:"",error:!1,errorMessage:"",triggerAnimation:!1,stateOptions:r},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchQuery,n=e.value;return a.a.createElement("div",{style:{flexGrow:1}},this.state.error&&a.a.createElement(Y.a,{animation:"shake",duration:200,visible:this.state.triggerAnimation},a.a.createElement(T.a,{error:!0,header:"Invalid Input",content:a.a.createElement("p",{style:{overflowWrap:"break-word"}},this.state.errorMessage)})),a.a.createElement(j.a,{fluid:!0,onChange:this.handleChange,onSearchChange:this.handleSearchChange,options:this.stateOptions,placeholder:"Select Return Address",search:!0,searchQuery:t,selection:!0,value:n,error:this.state.error}))}},{key:"stateOptions",get:function(){var e=this.state.stateOptions.slice(0);return this.state.searchQuery.length&&!this.props.addresses.includes(this.state.searchQuery)&&e.push({key:this.state.searchQuery,value:this.state.searchQuery,text:this.state.searchQuery}),e}}]),t}(r.Component),Q=[{key:0,text:"Satoshi",value:"Satoshi"},{key:1,text:"mBTC",value:"mBTC"},{key:2,text:"BTC",value:"BTC"}],X=[{key:"byte",text:"bytes",value:"byte"},{key:"kB",text:"kB",value:"kB"}],J=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeSizeUnit=function(e,t){var r=t.value;n.setState({sizeUnit:r})},n.setReturnAddress=function(e){n.setState({returnAddress:e})},n.handleChange=function(e,t){var r=t.value,a=w.unloggedUtils.convertCurrencyTo(r,"satoshi",n.props.currency),s=n.calculateFeeState(a,n.state.returnAddress);n.setState(Object(y.a)({},s,{totalFee:r})),n.props.setReturnPayment(s.returnPayment)},n.calculateDefaultAddressState=function(e,t){var r=n.props.payments,a=0;t&&(r=[].concat(Object(d.a)(r),[t]),a=t.amount);var s=w.transaction.createSignedTransaction(n.props.contributions,r,n.props.privKeysArg),i=Math.ceil(w.fees.getFeeRate(s,e));return{size:s.getSize(),feeRate:i,remainingBalance:a,error:!1,errorMessage:"",triggerAnimation:!1,returnPayment:null}},n.calculateFeeState=function(e,t,r){if(!t||r)return n.calculateDefaultAddressState(e,r);var a=n.props.balance-e;if(a<0)return{size:0,feeRate:"",remainingBalance:"ERROR",error:!0,errorMessage:"Total fee must be less than or equal to the available balance.",triggerAnimation:!0,returnPayment:null};var s=new w.model.transaction.Payment(t,a),i=[].concat(Object(d.a)(n.props.payments),[s]),o=w.transaction.createSignedTransaction(n.props.contributions,i,n.props.privKeysArg),c=Math.ceil(w.fees.getFeeRate(o,e));return{size:o.getSize(),feeRate:c,remainingBalance:a,error:!1,errorMessage:"",triggerAnimation:!1,returnPayment:s}},n.setCurrency=function(e,t){var r=t.value;n.props.setCurrency(r)};var r=e.returnPayment?e.balance-e.returnPayment.amount:e.balance,a=w.unloggedUtils.convertCurrencyTo(r,n.props.currency),s=e.returnPayment?e.returnPayment.to:"",i=n.calculateFeeState(r,s,e.returnPayment);return n.state=Object(y.a)({},{returnAddress:s,message:"Autmatic fee calculation may not be able to use the exact fee rate requested.\n        In such cases it will instead use the closest fee rate possible.",sizeUnit:n.rateOptions[0].value,totalFee:a},i),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(this.state.returnAddress!==t.returnAddress){var n=w.unloggedUtils.convertCurrencyTo(this.state.totalFee,"satoshi",this.props.currency),r=this.calculateFeeState(n,this.state.returnAddress);this.setState(Object(y.a)({},r,{totalFee:w.unloggedUtils.convertCurrencyTo(n,this.props.currency)})),this.props.setReturnPayment(r.returnPayment)}if(this.props.currency!==e.currency){var a=w.unloggedUtils.convertCurrencyTo(this.state.totalFee,this.props.currency,e.currency);this.setState({totalFee:a})}}},{key:"render",value:function(){var e=w.fees.formatSize(w.unloggedUtils.convertCurrencyTo(this.state.feeRate,this.props.currency),this.state.sizeUnit),t=w.unloggedUtils.convertCurrencyTo(this.state.remainingBalance,this.props.currency),n=w.fees.formatSize(this.state.size,this.state.sizeUnit);return a.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto"}},a.a.createElement("div",{style:{flexGrow:"1",display:"flex",background:M.lime,margin:"0.5rem 0.5rem 0 0.5rem",borderRadius:"0.5rem 0.5rem 0 0"}},a.a.createElement("img",{style:{flexGrow:1},src:z.a,alt:"transferIcon"})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",background:M.lime,margin:"0 0.5rem 0.5rem 0.5rem",borderRadius:"0 0 0.5rem 0.5rem"}},a.a.createElement("div",{style:{fontSize:"2em",margin:"2rem 2rem 1rem 2rem",textAlign:"center"}},"Remaining Balance: ","".concat(t," ").concat(this.props.currency)),a.a.createElement("div",{style:{display:"flex",margin:"1rem 2rem 2rem 2rem"}},a.a.createElement(q,{setReturnAddress:this.setReturnAddress,returnAddress:this.state.returnAddress,addresses:this.props.addresses,network:this.props.network,tutorial:this.props.tutorial})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"2rem 1rem 1rem 1rem",background:M.lightLime,borderRadius:" 0 0 0.5rem 0.5rem"}},this.message,a.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.a.createElement("div",{style:{margin:"auto 0.5rem",width:"10rem"}},"Total Fees"),a.a.createElement(G.a,{style:{flexGrow:"0.3",margin:"0.5rem",width:"20rem"},value:this.state.totalFee,onChange:this.handleChange,disabled:!this.state.returnAddress,label:a.a.createElement(j.a,{options:Q,onChange:this.setCurrency,value:this.props.currency,upward:!0}),labelPosition:"right",type:"number",min:0,step:1})),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.a.createElement("div",{style:{margin:"auto 0.5rem",width:"10rem"}},"Fee Rate"),a.a.createElement(G.a,{style:{flexGrow:"0.3",margin:"0.5rem",width:"20rem"},value:e,disabled:!0,label:a.a.createElement(j.a,{options:this.rateOptions,onChange:this.changeSizeUnit,value:this.state.sizeUnit,upward:!0}),labelPosition:"right",type:"number",min:0})),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.a.createElement("div",{style:{margin:"auto 0.5rem",width:"10rem"}},"Size"),a.a.createElement(G.a,{style:{flexGrow:"0.3",margin:"0.5rem",width:"20rem"},value:n,disabled:!0,label:a.a.createElement(j.a,{options:X,onChange:this.changeSizeUnit,value:this.state.sizeUnit,upward:!0}),labelPosition:"right",type:"number",min:0})))))}},{key:"rateOptions",get:function(){return[{key:"byte",text:"".concat(this.props.currency,"/byte"),value:"byte"},{key:"kB",text:"".concat(this.props.currency,"/kB"),value:"kB"}]}},{key:"message",get:function(){return this.state.error?a.a.createElement(Y.a,{animation:"shake",duration:200,visible:this.state.triggerAnimation},a.a.createElement(T.a,{negative:!0,header:"Invalid Input",content:a.a.createElement("p",{style:{overflowWrap:"break-word"}},this.state.errorMessage)})):null}}]),t}(r.Component);function $(e){var t=e.log,n=e.showResult;return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},"".concat(t.action," ")),t.object),t.hasSubaction()&&a.a.createElement("div",{style:{marginTop:"0.5rem",opacity:"0.6"}},a.a.createElement("div",{style:{fontWeight:"bold"}},"Sub-Action"),t.subaction.map(function(e){return a.a.createElement("div",{style:{marginTop:"0.5rem"}},e.log)})),n&&t.hasResult()&&a.a.createElement("div",{style:{marginTop:"0.5rem",opacity:"0.6"}},a.a.createElement("div",{style:{fontWeight:"bold"}},"Result"),t.result.map(function(e){return a.a.createElement("div",{style:{marginTop:"0.5rem"}},e)})))}var Z=n(747),ee=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleHover=function(e){e.stopPropagation()},n.handleClick=function(e){e.stopPropagation()},n.state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderGroup",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],a.a.createElement("div",null,"EMPTY"));return e.value?"string"===typeof e.value[0]?n=a.a.createElement("div",null,e.value[0]):Array.isArray(e.value[0])&&(n=e.value.map(function(n,r){return a.a.createElement("div",{style:{marginTop:"1rem"}},a.a.createElement("b",null,"".concat(e.key,":").concat(r)),t.renderSubGroup(n))})):n=a.a.createElement("div",null,"Undefined"),this.renderSegment(e.key,n)}},{key:"renderSubGroup",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.a.createElement("div",{style:{marginLeft:"1rem"}},e.map(function(e){var n="string"===typeof e.value[0]?e.value:t.renderSubGroup(e.value);return a.a.createElement("div",{style:{wordBreak:"break-word"}},a.a.createElement("b",null,e.key,":")," ",n)}))}},{key:"renderSegment",value:function(e,t){return a.a.createElement(x.a,null,a.a.createElement(Z.a,{sub:!0,style:{marginBottom:"0.5rem"}},e),a.a.createElement("div",null,t))}},{key:"render",value:function(){var e=this;return a.a.createElement(x.a.Group,{onClick:this.handleClick,onMouseOver:this.handleHover,onMouseLeave:this.handleHover},this.props.snapshot.map(function(t){return e.renderGroup(t)}))}}]),t}(r.Component),te=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleHoverOver=function(){n.setState({hover:!0})},n.handleHoverExit=function(){n.setState({hover:!1})},n.handleClick=function(){n.setState({showSnapshot:!n.state.showSnapshot})},n.state={hover:!1,showSnapshot:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderSnapshot",value:function(){if(this.state.showSnapshot)return a.a.createElement(ee,{snapshot:this.props.snapshot})}},{key:"render",value:function(){return a.a.createElement(x.a,{inverted:!0,style:{overflow:"auto",fontStyle:"bold"},color:"teal",tertiary:this.state.hover,onMouseOver:this.handleHoverOver,onMouseLeave:this.handleHoverExit,onClick:this.handleClick},a.a.createElement(Z.a,{as:"h4"},this.props.item.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),this.renderSnapshot())}}]),t}(r.Component),ne=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).createSection=function(e,t,r){var a=t.getValue(e);return w.utils.isIterable(a[0])?a.map(function(t,r){var a=e.substring(0,e.length-1);return n.createSegmentGroup("".concat(a," ").concat(r),t,r)}):n.createSegmentGroup(e,a,r)},n.createSegmentGroup=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=t[t.length-1];if(s instanceof w.dataStructures.OrderedDict){var i=s.getKeys();s=(s=s.getValue(i[i.length-1]))[s.length-1]}var o=s.transactionDict.getArray();return a.a.createElement(x.a.Group,{key:r},a.a.createElement(te,{item:e,snapshot:o}),t.map(function(e,t){return n.createSegment(e,r,t)}))},n.createSegment=function(e,t,r){if(w.utils.isIterable(e)){var s=e[0],i=Object(d.a)(e).splice(1);return[n.createSegment(s,t,r+1)].concat(n.createSubSegments(i,t,r+1))}return e instanceof w.dataStructures.OrderedDict?e.getKeys().map(function(t,s){return[a.a.createElement(x.a,{inverted:!0,color:"teal",secondary:!0},t),n.createSegment(e.getValue(t),t,"".concat(r,".").concat(s))]}):a.a.createElement(x.a,{key:"".concat(t,".").concat(r,".").concat(e.log),style:{overflow:"auto",wordBreak:"break-all"}},a.a.createElement($,{log:e,showResult:!0}))},n.createSubSegments=function(e,t,n){return e.map(function(e,r){return e.hasSubaction&&e.hasSubaction()?e.subaction.map(function(s){return a.a.createElement("div",{key:"".concat(t,".").concat(n,".").concat(r,".").concat(e.log),style:{display:"flex"}},a.a.createElement("div",{style:{backgroundColor:"grey",minWidth:"20px"}}),a.a.createElement(x.a,{style:{overflow:"auto",marginTop:"0",flexGrow:"1",borderBottom:"none",borderRadius:"0",wordBreak:"break-all"}},a.a.createElement($,{log:s,showResult:!0})))}):a.a.createElement("div",{key:"".concat(t,".").concat(n,".").concat(r,".").concat(e.log),style:{display:"flex"}},a.a.createElement("div",{style:{backgroundColor:"grey",minWidth:"10px"}}),a.a.createElement(x.a,{style:{overflow:"auto",marginTop:"0",flexGrow:"1",borderBottom:"none",borderRadius:"0",wordBreak:"break-all"}},a.a.createElement($,{log:e,showResult:!0})))})},n.state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.transaction;return a.a.createElement("div",{style:{flexBasis:1,flexShrink:1,flexGrow:1,overflowY:"scroll",margin:"0.5rem",paddingRight:"0.5rem"}},t.logger.getKeys().map(function(n,r){return e.createSection(n,t.logger,r)}))}}]),t}(r.Component),re=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(x.a,{style:{overflow:"auto",fontSize:"2.5em",padding:"1.5rem"}},this.segmentedHash)}},{key:"segmentedHash",get:function(){return w.utils.joinArray(this.props.transaction.transactionDict).array.join("")}}]),t}(r.Component),ae=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={transaction:e.transaction,txhash:w.utils.joinArray(e.transaction.transactionDict).array.join("")},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{width:"100%",flexGrow:"1",display:"flex",flexDirection:"column"}},a.a.createElement("div",{style:{margin:"0.5rem"}},a.a.createElement(re,{transaction:this.state.transaction})),a.a.createElement(ne,{transaction:this.state.transaction}))}}]),t}(r.Component),se=n(373),ie=n.n(se),oe=n(374),ce=n.n(oe),ue=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleMouseEnter=function(){n.props.unlocked&&n.setState({backgroundColor:M.darkPink})},n.handleMouseExit=function(){n.props.unlocked&&n.setState({backgroundColor:M.lightPink})},n.handleChange=function(e,t){var r=t.value,a=n.validatePriv(r);a.success?n.setState({formValue:r,error:!1,errorMessage:"",triggerAnimation:!1}):n.setState({formValue:r,error:!0,errorMessage:a.error.message,triggerAnimation:!0})},n.handleClick=function(){n.props.removeKey(n.props.address)},n.validatePriv=function(e){try{if(e){var t=w.utils.getPrivateKeyFormat(e);if("wif_compressed"!==t&&"wif"!==t)return new P(!1,new Error("Invalid key format '".concat(t.toUpperCase(),"'.\n            Please encode your key as WIF.")))}}catch(n){return n instanceof w.utils.InvalidInputFormat?new P(!1,new Error("Invalid key format. Please ensure that your key is encoded as WIF.")):new P(!1,new Error("An unexpected error has occured."))}return new P(!0)},n.handleSubmit=function(){if(!n.state.error)return n.props.callback(n.props.address,n.state.formValue);n.setState({triggerAnimation:!n.state.triggerAnimation})},n.renderForm=function(){return a.a.createElement(E.a,{style:{margin:"1rem",marginTop:"2.5rem"},onSubmit:n.handleSubmit,error:n.state.error},a.a.createElement(Y.a,{animation:"shake",duration:200,visible:n.state.triggerAnimation},a.a.createElement(T.a,{error:!0,header:"Invalid Input",content:a.a.createElement("p",{style:{overflowWrap:"break-word"}},n.state.errorMessage)})),a.a.createElement(E.a.Input,{name:n.props.address,value:n.state.formValue||"",onChange:n.handleChange,type:n.props.tutorial?"text":"password",placeholder:"Insert private key",error:n.state.error}),a.a.createElement(E.a.Button,{content:"Unlock",style:{float:"right",margin:0}}))},n.state={hover:!1,backgroundColor:M.lightPink,formValue:e.tutorial?"cRKHcyn9Diw4GmcAaxRUdJH3Kgaz3j1KBFq1i6QwC2U9STqK7YXm":"",error:!1,errorMessage:"",triggerAnimation:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={display:"flex",flexDirection:"column",flexGrow:1,background:this.state.backgroundColor};return this.props.unlocked?e.borderRadius="0.5rem":(e.borderTopLeftRadius="0.5rem",e.borderTopRightRadius="0.5rem"),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"0.5rem",marginTop:"0",flexGrow:1,background:"white",borderRadius:"0.5rem",minHeight:"20rem"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseExit,onClick:this.handleClick},a.a.createElement("div",{style:e},a.a.createElement("div",{style:{flexGrow:2}}),a.a.createElement("img",{style:{flexGrow:6},src:this.props.unlocked?ce.a:ie.a,alt:this.props.unlocked?"unlockIcon":"lockIcon"}),a.a.createElement("div",{style:{flexGrow:2,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"}},a.a.createElement("div",{style:{color:"white",overflowX:"auto",fontWeight:"bold"}},this.props.address))),!this.props.unlocked&&this.renderForm())}}]),t}(r.Component),le=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e,t){n.props.addPrivateKey(e,t)},n.removePrivateKey=function(e){n.props.removePrivateKey(e)},n.state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto",marginTop:"0.5rem"}},this.props.transactions.map(function(t){var n="".concat(t.txHash,":").concat(Object.keys(t.outputs)[0]);return a.a.createElement(ue,{address:n,callback:e.handleSubmit,removeKey:e.removePrivateKey,key:n,unlocked:e.props.privKeys[n]&&e.props.privKeys[n].length>0,tutorial:e.props.tutorial})}))}}]),t}(r.Component),he=n(740);var de=function(e){var t=e.open,n=e.handleOpen,r=e.handleClose,s=e.message;return a.a.createElement(he.a,{open:t,onOpen:n,onClose:r},a.a.createElement(he.a.Header,null,"Error"),a.a.createElement(he.a.Content,null,a.a.createElement(he.a.Description,null,a.a.createElement("p",{style:{wordBreak:"break-word"}},s))))},pe=n(383);var me=function(e){var t=e.open,n=e.handleOpen,r=e.handleClose,s=e.message,i=e.result,o=e.tutorial,c=e.reset;return a.a.createElement(he.a,{open:t,onOpen:n,onClose:r,closeIcon:!0},a.a.createElement(he.a.Header,null,"Transaction Submitted"),a.a.createElement(he.a.Content,{scrolling:!0},a.a.createElement(he.a.Description,null,a.a.createElement(Z.a,null,"Submission ",i),o?a.a.createElement("div",null,a.a.createElement("p",{style:{wordBreak:"break-word"}},"Congratulations! You have completed the tutorial. Click the button below to return to the starting page.")):"Succeeded"===i?a.a.createElement("div",{style:{overflow:"auto"}},a.a.createElement(pe.ObjectInspector,{data:s,name:"response",expandLevel:10})):a.a.createElement("p",{style:{wordBreak:"break-word"}},s))),a.a.createElement(he.a.Actions,null,a.a.createElement(g.a,{onClick:c},"Return To Home")))},ge=n(397),fe=n(742),ve=n(71),ye=n(384),be=n.n(ye),Ee=n(385),Te=n.n(Ee),we=n(386),Se=n.n(we),Pe=n(387),ke=n.n(Pe),Ce=n(388),Oe=n.n(Ce),Ie=n(389),Ue=n.n(Ie),xe=n(390),Ae=n.n(xe),_e=n(391),Ne=n.n(_e),je=n(392),Be=n.n(je),Re=n(393),Ke=n.n(Re);var He=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handlePaginationChange=function(e,t){var r=t.activePage,a=t.totalPages;r>0&&r<=a&&n.setState({activePage:r})},n.getPages=function(){switch(n.props.frame){case"contribution":return[{title:"Add Transaction Input",page:a.a.createElement("div",null,a.a.createElement("p",null,'Bitcoin balances are stored within bitcoin transactions. Not wallets. Not addresses. Transaction are defined about "inputs" and "outputs". Inputs are references to other transaction outputs, they act like contributions to the transaction and define the collective value. Outputs are then analogous to payments, where the collective value of the inputs are spent.'),a.a.createElement("p",null,"ALL unspent bitcoins are spent as fees."),a.a.createElement("p",null,"Here, we first define the inputs. Begin by using the automatic input system, that utilizes a third party service to extract unspent balances belonging to an address. Or, make use of the manual input system to fill in the necessary information yourself."))},{title:"Add Input Automatically",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:be.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},'To add an input/ inputs using the automatic system, simply enter in your bitcoin address and click "Add Contribution". This will pull all the unspent transaction outputs that relate to the specified address. The outputs may be pruned if necessary. The address should exist in the network that you selected on the first page.'))},{title:"Add Input Manually",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Te.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"A transaction input requires 3 pieces of information to be defined."),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("h5",null,"The transaction hash"),"To identify the transaction where the bitcoins are stored/recieved."),a.a.createElement("li",null,a.a.createElement("h5",null,"The output index"),"To identify which output within the specified transaction that the bitcoins are stored."),a.a.createElement("li",null,a.a.createElement("h5",null,"The script"),'This is the authentication measure required to prove the ownership of the value. Effectively, it is the "lock" that secures the bitcoins.')),a.a.createElement("p",null,'To add an input using the manual system, provide the above stated details and click "Add Contribution". Once again, the transaction should belong to the network you selected on the first page.'),a.a.createElement("p",null,"The balance is not required to define the transaction input. However it is necessitated in this software as a convenience measure for later computation."))},{title:"Changing The Currency Format",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:ke.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"The currency format can be changed by using the dropdown next to the balance shown in the picture above. This will change the currency displayed as well as the currency for input."))},{title:"Tutorial",page:a.a.createElement("div",null,a.a.createElement("p",null,'The manual input form has been filled out for you. Please click "Add Contribution" to add the defined transaction input and click "Next" on the bottom right to continue.'))}];case"payment":return[{title:"Add Transaction Outputs",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Se.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"After defining inputs for our transaction, we can now create the outputs for our expenditures."),a.a.createElement("p",null,'To add an output, simply enter in the bitcoin address of your recipient, the amount you wish to send and click "Add Payment". Similar to the inputs, ensure that the recipient address on the same network as your inputs.'))},{title:"Tutorial",page:a.a.createElement("div",null,a.a.createElement("p",null,'The input form for payments has been filled out for you. Please click "Add Payment" to add the pre-defined transaction output. Then click "Next" on the bottom right to continue.'))}];case"signing":return[{title:"Authentication",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Oe.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"We now need to authenticate the usage of each of our transaction inputs."),a.a.createElement("p",null,'For each transaction input, enter the private key for each bitcoin address that corresponds. Press the "Unlock" button to authenticate the transaction input. Once unlocked, you can press the lock icon to unauthenticate.'))},{title:"Tutorial",page:a.a.createElement("div",null,a.a.createElement("p",null,'The private key has been filled out for you. Please click the "Unlock" button and click "Next" on the bottom right to continue.'))}];case"fees":return[{title:"Fees",page:a.a.createElement("div",null,a.a.createElement("p",null,"The last step is to set the amount of change that you wish to recieve."),a.a.createElement("p",null,'The fee is calculated as the collected input - the spent output. Therefore anything that you don\'t spend is used as fee to process your transaction. To circumvent this and simulate the idea of "change", we send money back to ourself.'))},{title:"Set Return Address",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Ae.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"Use the above dropdown to set which return address you wish to use for change, or input an unlisted address. Alternatively you can leave the return address unset. However, no change will be processed and all unspent inputs will be used in the fee."))},{title:"Set Fee Rate",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Ue.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"The above input shows the total fee as well as the fee per kB. The higher the fee rate, the higher the priority of your transaction. This effectively means that the more you spend on fees, the quicker your transaction will be processed. However, conversely this means that if your fee rate is too low, then your transaction may end up ",a.a.createElement("b",null,"never")," being processed."),a.a.createElement("p",null,"Use the input provided to fine tune the fee rate. It may be beneficial to use an online service to check what the standard fee rate is for your chosen network."))},{title:"Tutorial",page:a.a.createElement("div",null,a.a.createElement("p",null,'The return address has been decided for you. Click on the drop down and select the return address for confirmation. Tune the fee rate however you wish. Then, click "Next" on the bottom right to continue.'))}];case"transaction":return[{title:"Transaction Breakdown",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Ne.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"And That's all. You have created the transaction."),a.a.createElement("p",null,'The sequence of numbers at the top shows your signed transaction. This contains all the data regarding your transaction. It is also used to create the "transaction hash" as seen previously.'),a.a.createElement("p",null,"The breakdown below show section by section all the steps that was required to create the transaction."))},{title:"Breakdown Sections",page:a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("h5",null,"Version Code"),"This software creates only version 1 transactions."),a.a.createElement("p",null,a.a.createElement("h5",null,"Input Count"),"This defines how many inputs are used in the transaction."),a.a.createElement("p",null,a.a.createElement("h5",null,"Inputs"),"Each input is then defined."),a.a.createElement("p",null,a.a.createElement("h5",null,"Output Count"),"This defines how many outputs are used in the transaction."),a.a.createElement("p",null,a.a.createElement("h5",null,"Outputs"),"Each output is then defined."),a.a.createElement("p",null,a.a.createElement("h5",null,"Locktime"),"This defines a restriction on when a transaction can be processed based on either block height or unix epoch. This software does not support variable locktime."),a.a.createElement("p",null,a.a.createElement("h5",null,"Signing The Inputs"),"Finally, the inputs are signed based on the constructed raw unsigned transaction. The computed signature then replaces the original input script."))},{title:"Show Transaction State",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Be.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"The section titles can be expanded to show the state of the raw transaction after each computational block. In this view, the transaction state is broken down respectively to show what each substring of the transaction represents."))},{title:"Publish Transaction",page:a.a.createElement("div",null,a.a.createElement(ge.a,{src:Ke.a,fluid:!0}),a.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},'Now that you have created your transaction, click the "Publish" button on the bottom right if you wish submit the transaction. Otherwise don\'t. No transfer of balance will be enacted, and you can simply marvel at the transaction that you created.'))}];default:return[]}};var r=n.getPages();return n.state={pages:r,activePage:1,totalPages:r.length},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(he.a,{open:this.props.open,onOpen:this.props.handleOpen,onClose:this.props.handleClose,size:"tiny",closeIcon:!0},a.a.createElement(he.a.Header,null,this.state.pages[this.state.activePage-1].title),a.a.createElement(he.a.Content,{scrolling:!0},a.a.createElement(he.a.Description,null,a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto"}},a.a.createElement("div",{style:{marginBottom:"1rem"}},this.state.pages[this.state.activePage-1].page)))),a.a.createElement(he.a.Actions,null,a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(fe.a,{activePage:this.state.activePage,prevItem:{content:a.a.createElement(ve.a,{name:"angle left"}),icon:!0},nextItem:{content:a.a.createElement(ve.a,{name:"angle right"}),icon:!0},firstItem:null,lastItem:null,pointing:!0,secondary:!0,onPageChange:this.handlePaginationChange,totalPages:this.state.totalPages}))))}}]),t}(r.Component),Ve={value:"starting",order:0},Le={value:"contribution",order:1},Fe=[Ve,Le,{value:"payment",order:2},{value:"signing",order:3},{value:"fees",order:4},{value:"transaction",order:5}],De=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).reset=function(){n.setState(n.defaultState)},n.handleOpenModal=function(){n.setState({modalOpen:!0})},n.handleCloseModal=function(){n.setState({modalOpen:!1,error:!1,showhelp:!1})},n.addTransactions=function(e){var t=Array.isArray(e)?e:[e],r=n.checkDuplicateTransactions(t);if(!r.success)return r;var a=n.state.txs.slice(0);return a=[].concat(Object(d.a)(a),Object(d.a)(t)),n.setState({txs:a}),new P(!0)},n.checkDuplicateTransactions=function(e){var t=Array.isArray(e)?e:[e],r=n.state.txs,a=new P(!0);e:for(var s=0;s<t.length;s+=1)for(var i=t[s],o=0;o<r.length;o+=1){var c=r[o];if(i.txHash===c.txHash&&Object.keys(i.outputs)[0]===Object.keys(c.outputs)[0]){a=new P(!1,new Error("".concat(c.txHash,":").concat(Object.keys(c.outputs)[0]," already exists. Please remove the transaction and try again.")));break e}}return a},n.removeTransaction=function(e,t){var r=n.state.txs.slice(0),a=r.findIndex(function(n){return n.txHash===e&&Object.keys(n.outputs)[0]===t});r.splice(a,1),n.setState({txs:r}),n.removePrivateKey("".concat(e,":").concat(t))},n.removePayment=function(e,t){var r=n.state.payments.slice(0),a=r.findIndex(function(n){return n.to===e&&n.amount===t});r.splice(a,1),n.setState({payments:r})},n.appendToPayments=function(e){if(n.calculateBalance()-e.amount<0)return new P(!1,new Error("Insufficient funds."));var t=n.state.payments.slice(0);return t.push(e),n.setState({payments:t}),new P(!0)},n.appendToPrivateKeys=function(e,t){var r=n.state.privKeys;return r[e]=t,n.setState({privKeys:r}),!0},n.removePrivateKey=function(e){var t=n.state.privKeys;delete t[e],n.setState({privKeys:t})},n.getAddressesFromPrivs=function(e){var t=e?e.slice(0):[];return Object.keys(n.state.privKeys).forEach(function(e){var r=n.state.privKeys[e],a=w.utils.privToAddress(r,n.state.network);t.includes(a)||t.push(a)}),t},n.getAddressesFromPayments=function(e){var t=e?e.slice(0):[];return n.state.payments.forEach(function(e){t.includes(e.to)||t.push(e.to)}),t},n.getAllAddresses=function(){var e=n.getAddressesFromPrivs();return n.getAddressesFromPayments(e)},n.getP2PKHAddresses=function(){return n.getAllAddresses().filter(function(e){return"P2PKH"===w.utils.getAddressFormat(e).toUpperCase()})},n.setCurrency=function(e){n.setState({currency:e})},n.setReturnPayment=function(e){n.setState({returnPayment:e})},n.validate=function(){switch(n.state.frame.value){case"starting":return new P(!0);case"contribution":return n.state.txs.length?new P(!0):new P(!1,new Error("Please add at least one contribution to continue."));case"payment":return n.state.payments.length?new P(!0):new P(!1,new Error("Please add at least one payment to continue."));case"signing":case"fees":return n.validatePrivKeys()?new P(!0):new P(!1,new Error("Please ensure that you have unlocked each of the transactions."));case"transaction":default:return new P(!1)}},n.calculateBalance=function(){return n.contributions.reduce(function(e,t){return e+Number(t.output.balance)},0)-n.state.payments.reduce(function(e,t){return e+Number(t.amount)},0)},n.getPrivKeyArgs=function(){var e=[],t=!0;return n.contributions.forEach(function(r){var a=n.state.privKeys["".concat(r.txHash,":").concat(r.output.outputIndex)];a?e.push(a):t=!1}),t?e:t},n.validatePrivKeys=function(){return!!n.getPrivKeyArgs()&&(n.setState({modTx:n.modTransaction}),!0)},n.handleNavigation=function(e,t){if("back"===e&&n.state.frame===Le)n.reset();else{if("next"===e){var r=n.validate();if(!r.success)return void n.setState({error:!0,errorMessage:r.error.message,modalOpen:!0})}var a="next"===e?1:-1,s=Fe[n.state.frame.order+a],i=!(!n.state.tutorial&&!t),o=i;n.setState({frame:s,showhelp:i,modalOpen:o})}},n.handleClick=function(e,t){var r=t.value;n.handleNavigation(r)},n.setTransactionMode=function(e){switch(e){case"mainnet":case"testnet":n.setState({network:e});break;case"tutorial":return n.setState({network:"testnet",tutorial:!0}),n.handleNavigation("next",!0);default:return alert("error"),!1}return n.handleNavigation("next")},n.publish=function(){n.state.tutorial?n.setState({modalOpen:!0,publishResult:"Succeeded"}):(n.setState({loading:!0}),n.state.modTx.pushtx(n.state.network).then(function(e){n.setState({loading:!1,publishMessage:e.data,modalOpen:!0,publishResult:"Succeeded"})}).catch(function(e){n.setState({loading:!1,publishMessage:e.message,modalOpen:!0,publishResult:"Failed"})}))},n.state=n.defaultState,n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(p.a,{active:this.state.loading},a.a.createElement(m.a,null)),this.modal,this.frame,a.a.createElement("div",{style:{margin:"0.5rem"}},this.navigationButtons))}},{key:"defaultState",get:function(){return{frame:Ve,txs:[],payments:[],privKeys:{},modTx:null,publishMessage:"",publishResult:"",loading:!1,currency:"Satoshi",modalOpen:!1,network:null,error:!1,errorMessage:"",returnPayment:null,tutorial:!1,showhelp:!1}}},{key:"modTransaction",get:function(){var e=this.getPrivKeyArgs(),t=this.state.payments.slice(0);return this.state.returnPayment&&t.push(this.state.returnPayment),w.transaction.createSignedTransaction(this.contributions,t,e)}},{key:"contributions",get:function(){var e=[];return this.state.txs.forEach(function(t){return e=e.concat(t.getContributions())}),e}},{key:"frame",get:function(){switch(this.state.frame.value){case"starting":return a.a.createElement(f,{callback:this.setTransactionMode});case"contribution":return a.a.createElement(K,{addTransactions:this.addTransactions,removeTransaction:this.removeTransaction,contributions:this.contributions,currency:this.state.currency,balance:this.calculateBalance(),setCurrency:this.setCurrency,tutorial:this.state.tutorial,network:this.state.network});case"payment":return a.a.createElement(F,{callback:this.appendToPayments,payments:this.state.payments,balance:this.calculateBalance(),removePayment:this.removePayment,currency:this.state.currency,setCurrency:this.setCurrency,network:this.state.network,tutorial:this.state.tutorial});case"signing":return a.a.createElement(le,{transactions:this.state.txs,addPrivateKey:this.appendToPrivateKeys,removePrivateKey:this.removePrivateKey,privKeys:this.state.privKeys,tutorial:this.state.tutorial});case"fees":return a.a.createElement(J,{addresses:this.getP2PKHAddresses(),contributions:this.contributions,payments:this.state.payments,privKeysArg:this.getPrivKeyArgs(),balance:this.calculateBalance(),network:this.state.network,tutorial:this.state.tutorial,currency:this.state.currency,setCurrency:this.setCurrency,setReturnPayment:this.setReturnPayment,returnPayment:this.state.returnPayment});case"transaction":return a.a.createElement(ae,{contributions:this.contributions,payments:this.state.payments,transaction:this.state.modTx});default:return a.a.createElement(D,null)}}},{key:"navigationButtons",get:function(){var e=a.a.createElement(g.a,{key:"next",style:{float:"right",margin:0},content:"Next",value:"next",icon:"right arrow",labelPosition:"right",onClick:this.handleClick}),t=a.a.createElement(g.a,{key:"back",style:{float:"left",margin:0},content:"Back",value:"back",icon:"left arrow",labelPosition:"left",onClick:this.handleClick}),n=[];switch(this.state.frame.value){case"starting":break;case"contribution":case"payment":case"signing":case"fees":n.push(e),n.push(t);break;case"transaction":var r=a.a.createElement(g.a,{key:"publish",style:{float:"right",margin:0},content:"Publish Transaction",value:"publish",icon:"right arrow",labelPosition:"right",onClick:this.publish});n.push(r),n.push(t);break;default:return a.a.createElement(D,null)}return n}},{key:"modal",get:function(){return this.state.error?a.a.createElement(de,{message:this.state.errorMessage,open:this.state.modalOpen,handleOpen:this.handleOpenModal,handleClose:this.handleCloseModal}):this.state.showhelp?a.a.createElement(He,{open:this.state.modalOpen,handleOpen:this.handleOpenModal,handleClose:this.handleCloseModal,frame:this.state.frame.value}):a.a.createElement(me,{message:this.state.publishMessage,open:this.state.modalOpen,handleOpen:this.handleOpenModal,handleClose:this.handleCloseModal,result:this.state.publishResult,tutorial:this.state.tutorial,reset:this.reset})}}]),t}(r.Component),Me={width:"100%",height:"100%",padding:"0.5rem"},Ge=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App",style:Me},a.a.createElement(De,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){var r=n(499),a=n(152),s=n(577),i=n(121),o=n(160),c=n(311),u=n(578);e.exports={transaction:r,utils:a,unloggedUtils:s,dataStructures:o,model:{transaction:i},fees:u,services:c}}},[[405,1,2]]]);
//# sourceMappingURL=main.01869bb4.chunk.js.map