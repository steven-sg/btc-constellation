(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t){},363:function(e,t,r){e.exports=r.p+"static/media/bitcoin-transfer.454eb946.svg"},366:function(e,t,r){e.exports=r.p+"static/media/lock.d74ea141.svg"},367:function(e,t,r){e.exports=r.p+"static/media/unlock.7450572e.svg"},377:function(e,t,r){e.exports=r.p+"static/media/automatic_contribution.1f7ca2cc.png"},378:function(e,t,r){e.exports=r.p+"static/media/manual_contribution.229177e6.png"},379:function(e,t,r){e.exports=r.p+"static/media/payment.9b1f2f1a.png"},380:function(e,t,r){e.exports=r.p+"static/media/currency.7cd9c2a9.png"},381:function(e,t,r){e.exports=r.p+"static/media/signing.a9782a6d.png"},382:function(e,t,r){e.exports=r.p+"static/media/fee.62649767.png"},383:function(e,t,r){e.exports=r.p+"static/media/return_address.d5385108.png"},384:function(e,t,r){e.exports=r.p+"static/media/transaction_log.29199bf6.png"},385:function(e,t,r){e.exports=r.p+"static/media/transaction_state.ac8b438b.png"},386:function(e,t,r){e.exports=r.p+"static/media/publish_transaction.ab1658e8.png"},398:function(e,t,r){e.exports=r(715)},404:function(e,t,r){},408:function(e,t){},414:function(e,t){},448:function(e,t){},450:function(e,t){},715:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(107),o=r.n(s),i=(r(403),r(404),r(17)),c=r(20),l=r(19),u=r(16),d=r(18),h=r(71),m=r(734),p=r(726),f=r(716),y=r(13),g=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){var a=t.value;return r.props.callback(a)},r.state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{flexGrow:"1",display:"flex"}},n.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n.a.createElement("h1",{style:{color:"white"}},"Welcome"),n.a.createElement("p",{style:{color:"white"}},"Click one of the buttons on the right to begin.")),n.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto",marginTop:"0.5rem"}},n.a.createElement(f.a,{style:{flexGrow:1,margin:"0.5rem",fontWeight:"bolder",opacity:.9},value:"mainnet",onClick:this.handleClick,size:"large",color:"violet"},"Create Mainnet Transaction"),n.a.createElement(f.a,{style:{flexGrow:1,margin:"0.5rem",fontWeight:"bolder",opacity:.9},value:"testnet",onClick:this.handleClick,size:"large",color:"violet"},"Create Testnet Transaction"),n.a.createElement(f.a,{style:{flexGrow:1,margin:"0.5rem",fontWeight:"bolder",opacity:.9},value:"tutorial",onClick:this.handleClick,size:"large",color:"violet"},"Tutorial")))}}]),t}(a.Component),v=r(733),b=r(70),E=r(29),w=r(727),k=r(732),x=r(388),O=function e(t,r){Object(i.a)(this,e),this.success=t,r?this.error=r:t||(this.error=new Error("You've encountered an unexpected Error."))},C=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).name="ValidationError",r.message=e,r}return Object(d.a)(t,e),t}(Object(x.a)(Error));function S(e){switch(e){case"btc":return 1e-8;case"mbtc":return 1e-5;case"satoshi":default:return 1}}var T=function(e){function t(e){var r;Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInitialFormValues=function(e){return e?{"Transaction Hash":"68e7da9216d4e113df7918383258f7cec0a5cf661f469f68966aadf6a12358d3","Output Index":"0",ScriptPubKey:"76a914328dbf4cbeacc2898f096ffce5f9dcd27b53e5cc88ac",Balance:"20000000"}:{"Transaction Hash":"","Output Index":"",ScriptPubKey:"",Balance:""}},r.validate=function(e,t){switch(e){case"Transaction Hash":return y.utils.isHexString(t)?new O(!0):new O(!1,new Error("The input string is not in hex format."));case"Output Index":return new O(!0);case"ScriptPubKey":try{if(t.length){var r=y.scripts.getScriptFormat(t);if("pay-to-pubkey-hash"!==r)return new O(!1,new Error("Unsupported script format ".concat(r,".")))}return new O(!0)}catch(a){return new O(!1,a)}case"Balance":return new O(!0);default:return}},r.validateSubmission=function(){return!(r.state["Transaction Hash error"]||r.state["Output Index error"]||r.state["ScriptPubKey error"]||r.state["balance error"])&&r.state["Transaction Hash"]&&r.state["Output Index"]&&r.state.ScriptPubKey&&r.state.Balance?new O(!0):new O(!1,new C("Please ensure that all required fields are filled."))},r.appendError=function(e,t,r){var a=e.slice(0),n=!1;return a.forEach(function(e,s){n||e.field!==t||(a[s].message=r.message,n=!0)}),n||a.push({field:t,message:r.message}),a},r.removeError=function(e,t){return e.filter(function(e){return e.field!==t})},r.handleChange=function(e,t){var a,n=t.name,s=t.value,o=r.validate(n,s),i=o.success,c=o.error,l="".concat(n," error"),u=i?r.removeError(r.state.errorList,n):r.appendError(r.state.errorList,n,c),d=(a={},Object(E.a)(a,n,s),Object(E.a)(a,l,!i),Object(E.a)(a,"otherError",!1),Object(E.a)(a,"errorList",u),a);r.setState(d)},r.handleSubmit=function(){var e=r.validateSubmission(),t=e.success,a=e.error;if(t){var n=y.currency.convertCurrencyTo(r.state.Balance,"satoshi",r.props.currency),s=[new y.models.TransactionOutput(Number(r.state["Output Index"]).toString(),r.state.ScriptPubKey,n)],o=new y.models.Transaction(r.state["Transaction Hash"],s),i=r.props.addTransactions(o);i.success||r.setState({otherError:i.error.message})}else r.setState({otherError:a.message})};var a=r.getInitialFormValues(r.props.tutorial);return r.state=Object(b.a)({},{errorList:[],"Transaction Hash error":!1,"Output Index error":!1,"ScriptPubKey error":!1,"balance error":!1,otherError:!1},a),r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.contributions.length!==this.props.contributions.length&&this.setState({otherError:!1})}},{key:"render",value:function(){var e=this.state.otherError,t=this.state["Transaction Hash error"],r=this.state["Output Index error"],a=this.state["ScriptPubKey error"],s=this.state["balance error"],o=t||r||a||s||e&&e.length>0;return n.a.createElement(w.a,{onSubmit:this.handleSubmit,error:o,style:{margin:"0"}},n.a.createElement(k.a,{error:!0,header:"Invalid Input",content:n.a.createElement("p",{style:{overflowWrap:"break-word"}},e||this.state.errorList.length&&this.state.errorList[0].message)}),n.a.createElement(w.a.Group,null,n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"Transaction Hash",name:"Transaction Hash",value:this.state["Transaction Hash"],onChange:this.handleChange,placeholder:"Transaction Hash",width:10,error:t}),n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"Output Index",name:"Output Index",value:this.state["Output Index"],onChange:this.handleChange,placeholder:"Output Index",width:6,type:"number",min:0,error:r})),n.a.createElement(w.a.Group,null,n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"ScriptPubKey",name:"ScriptPubKey",value:this.state.ScriptPubKey,onChange:this.handleChange,placeholder:"ScriptPubKey",width:10,error:a}),n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"Balance",name:"Balance",value:this.state.Balance,onChange:this.handleChange,placeholder:"Balance (".concat(this.props.currency,")"),width:6,type:"number",min:0,error:s,step:this.stepSize})),n.a.createElement(w.a.Button,{content:"Add Contribution",disabled:o}))}},{key:"stepSize",get:function(){return S(this.props.currency.toLowerCase())}}]),t}(a.Component),j=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).validate=function(e,t){switch(e){case"Bitcoin Address":if(!t.length)return new O(!0);try{var a=y.utils.getAddressFormat(t).toUpperCase();if("P2PKH"!==a)return new O(!1,new Error("Address type ".concat(a," is not supported. Please supply a P2PKH address.")))}catch(o){return o instanceof y.models.InvalidInputError?new O(!1,new Error("Unrecognised address format. Please supply a P2PKH address.")):new O(!1,new Error("An unexpected error has occurred."))}try{var n=y.utils.getAddressNetwork(t).toUpperCase(),s=r.props.network.toUpperCase();if(n!==s)return new O(!1,new Error("This address belongs to an compatible network: ".concat(n,".\n              Please use an address from the ").concat(s," or create a new ").concat(n," transaction.")))}catch(o){return o instanceof y.models.InvalidInputError?new O(!1,new Error("Unrecognised address network. Please supply a P2PKH address.")):new O(!1,new Error("An unexpected error has occurred."))}return new O(!0);default:return}},r.validateSubmission=function(){return r.state["Bitcoin Address error"]||!r.state["Bitcoin Address"]?new O(!1,new C("Please ensure that all required fields are filled.")):new O(!0)},r.handleChange=function(e,t){var a,n=t.name,s=t.value,o=r.validate(n,s),i=o.success,c=o.error,l="".concat(n," error"),u=i?r.removeError(r.state.errorList,n):r.appendError(r.state.errorList,n,c),d=(a={},Object(E.a)(a,n,s),Object(E.a)(a,l,!i),Object(E.a)(a,"otherError",!1),Object(E.a)(a,"errorList",u),a);r.setState(d)},r.handleSubmit=function(){var e=r.validateSubmission(),t=e.success,a=e.error;t?y.services.pullUnspentTransactions(r.state["Bitcoin Address"],r.props.network).then(function(e){for(var t=e.data,a=[],n=function(e){var r=t[e].outputs,n=Object.keys(r).map(function(a){var n=[new y.models.TransactionOutput(r[a].outputIndex.toString(),r[a].scriptPubKey,r[a].balance)];return new y.models.Transaction(t[e].txHash,n)});a=a.concat(n)},s=0;s<t.length;s++)n(s);var o=r.props.addTransactions(a);o.success||r.setState({otherError:o.error.message})}).catch(function(e){if(429===e.status)r.setState({otherError:"ERROR 429: Too Many Request. This request is being rate limited. Try again with a different input or use the manual input alternative."});else{var t=e.message||"".concat(e.status);r.setState({otherError:t})}}):r.setState({otherError:a.message})},r.appendError=function(e,t,r){var a=e.slice(0),n=!1;return a.forEach(function(e,s){n||e.field!==t||(a[s].message=r.message,n=!0)}),n||a.push({field:t,message:r.message}),a},r.removeError=function(e,t){return e.filter(function(e){return e.field!==t})},r.state={errorList:[],"Bitcoin Address":"","Bitcoin Address error":!1,otherError:!1},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.otherError,t=this.state["Bitcoin Address error"],r=t||e&&e.length>0;return n.a.createElement(w.a,{onSubmit:this.handleSubmit,error:r,style:{margin:"0.5rem"}},n.a.createElement(k.a,{error:!0,header:"Invalid Input",content:n.a.createElement("p",{style:{overflowWrap:"break-word"}},e||this.state.errorList.length&&this.state.errorList[0].message)}),n.a.createElement(w.a.Group,null,n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"Bitcoin Address",name:"Bitcoin Address",value:this.state["Bitcoin Address"],onChange:this.handleChange,placeholder:"Bitcoin Address",width:16,error:t})),n.a.createElement(w.a.Button,{content:"Add Contribution",disabled:r}))}}]),t}(a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{margin:"0 0.5rem 0.5rem 0.5rem"}},n.a.createElement(v.a,{menu:{pointing:!0,attached:!0},defaultActiveIndex:this.props.tutorial?1:0,panes:[{menuItem:"Automatic",render:function(){return n.a.createElement(v.a.Pane,null,n.a.createElement(j,{network:e.props.network,addTransactions:e.props.addTransactions}))}},{menuItem:"Manual",render:function(){return n.a.createElement(v.a.Pane,null,n.a.createElement(T,{addTransactions:e.props.addTransactions,currency:e.props.currency,contributions:e.props.contributions,tutorial:e.props.tutorial}))}}]}))}}]),t}(a.Component),A=r(233),B=r(172),I=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){var a=t.txhash,n=t.outputindex;r.props.callback(a,n)},r.convertbalance=function(e){return y.currency.convertCurrencyTo(e,r.props.currency)},r.renderSegments=function(){return r.props.contributions.map(function(e){var t="".concat(e.txHash,":").concat(e.output.outputIndex);return n.a.createElement(A.a,{key:t,style:{display:"flex",alignItems:"center"}},n.a.createElement(f.a,{style:{boxShadow:"none\u0192",marginRight:"1rem"},basic:!0,size:"small",icon:"times",onClick:r.handleClick,txhash:e.txHash,outputindex:e.output.outputIndex}),n.a.createElement("div",{style:{display:"inline",flexGrow:1,marginBottom:"0",marginRight:"1rem",overflowX:"auto"}},n.a.createElement("p",{style:{marginBottom:0}},t),n.a.createElement("p",{style:{opacity:"0.75",wordBreak:"break-word"}},"script: ".concat(e.output.scriptPubKey))),n.a.createElement("p",{style:{display:"inline",overflowX:"auto"}},"".concat(r.convertbalance(e.output.balance)," ").concat(r.props.currency)))})},r.state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,margin:"0.5rem"}},n.a.createElement(A.a.Group,{style:{margin:0}},this.renderSegments()),n.a.createElement("div",{style:{flexGrow:1,flexShrink:0,display:"flex"}},n.a.createElement(B.a,{handleHeight:!0},function(t,r){return r<70?n.a.createElement("div",null):n.a.createElement("div",{style:{flexGrow:1,flexShrink:0,borderStyle:"dashed",borderRadius:"20px",borderWidth:"0.25rem",borderColor:"white",color:"white",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.props.contributions.length?"0.5rem":0}},n.a.createElement("div",{style:{color:"white"}},"Add Contributions"))})))}}]),t}(a.Component),K=r(389),H=r(729),R=[{key:0,text:"Satoshi",value:"Satoshi"},{key:1,text:"mBTC",value:"mBTC"},{key:2,text:"BTC",value:"BTC"}],G=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleChange=function(e,t){var a=t.value;r.props.callback(a)},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currency,r=e.balance,a=e.upward,s=y.currency.convertCurrencyTo(r,t);return n.a.createElement(K.a,{style:{margin:"0.5rem"}},n.a.createElement(K.a.Menu,{position:"right"},n.a.createElement("div",{className:"ui transparent icon input"},n.a.createElement("input",{className:"prompt",style:{textAlign:"right"},type:"text",placeholder:"Balance",value:s,disabled:!0})),n.a.createElement(H.a,{item:!0,upward:a,value:t,options:R,onChange:this.handleChange})))}}]),t}(a.Component),M=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).appendToTransaction=function(e){var t=r.state.txs.slice(0);t.push(e),r.setState({txs:t})},r.getContributions=function(){var e=[];return r.state.txs.forEach(function(t){return e=e.concat(t.getContributions())}),e},r.state={txs:[]},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.contributions;return n.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column"}},n.a.createElement("div",{style:{overflowY:"scroll",flexGrow:1,display:"flex",flexDirection:"column",margin:"0.5rem 0.5rem 0 0"}},n.a.createElement(P,{addTransactions:this.props.addTransactions,currency:this.props.currency,contributions:e,tutorial:this.props.tutorial,network:this.props.network}),n.a.createElement(I,{contributions:e,callback:this.props.removeTransaction,currency:this.props.currency})),n.a.createElement(G,{balance:this.props.balance,currency:this.props.currency,callback:this.props.setCurrency,upward:!0}))}}]),t}(a.Component),F=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){var a=t.address,n=t.amount;r.props.callback(a,n)},r.convertAmount=function(e){return y.currency.convertCurrencyTo(e,r.props.currency)},r.renderSegments=function(){return r.props.payments.map(function(e,t){return n.a.createElement(A.a,{style:{display:"flex",alignItems:"center"},key:t},n.a.createElement(f.a,{style:{boxShadow:"none\u0192",marginRight:"1rem"},basic:!0,size:"small",icon:"times",onClick:r.handleClick,address:e.to,amount:e.amount}),n.a.createElement("p",{style:{display:"inline",flexGrow:1,marginBottom:"0",marginRight:"1rem",overflowX:"auto"}},e.to),n.a.createElement("p",{style:{display:"inline",overflowX:"auto"}},"".concat(r.convertAmount(e.amount)," ").concat(r.props.currency)))})},r.state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexShrink:1,flexGrow:1,overflowY:"scroll",overflowX:"auto",paddingRight:"0.5rem",margin:"0.5rem"}},n.a.createElement(A.a.Group,{style:{margin:0}},this.renderSegments()),n.a.createElement("div",{style:{flexGrow:1,flexShrink:0,display:"flex"}},n.a.createElement(B.a,{handleHeight:!0},function(t,r){return r<70?n.a.createElement("div",null):n.a.createElement("div",{style:{flexGrow:1,flexShrink:0,borderStyle:"dashed",borderRadius:"20px",borderWidth:"0.25rem",borderColor:"white",color:"white",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.props.payments.length?"0.5rem":0}},n.a.createElement("div",{style:{color:"white"}},"Add Payments"))})))}}]),t}(a.Component),U=r(731),z=function(e){function t(e){var r;Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInitialFormValues=function(e){return e?{"Bitcoin Address":"mjUDEsMXuYFZSrERVZjzHpznNJFzNUBoop",Amount:"10000000"}:{"Bitcoin Address":"",Amount:""}},r.validate=function(e,t){switch(e){case"Bitcoin Address":if(!t.length)return new O(!0);try{var a=y.utils.getAddressFormat(t).toUpperCase();if("P2PKH"!==a&&"P2SH"!==a)return new O(!1,new Error("Address type ".concat(a," is not supported. Please supply a P2PKH/P2SH address.")))}catch(o){return o instanceof y.models.InvalidInputError?new O(!1,new Error("Unrecognised address format. Please supply a P2PKH/P2SH address.")):new O(!1,new Error("An unexpected error has occurred."))}try{var n=y.utils.getAddressNetwork(t).toUpperCase(),s=r.props.network.toUpperCase();if(n!==s)return new O(!1,new Error("This address belongs to an incompatible network: ".concat(n,".\n              Please use an address from the ").concat(s," or create a new ").concat(n," transaction.")))}catch(o){return o instanceof y.models.InvalidInputError?new O(!1,new Error("Unrecognised address network. Please supply a P2PKH/P2SH address.")):new O(!1,new Error("An unexpected error has occurred."))}return new O(!0);case"Amount":return new O(!0);default:return}},r.validateSubmission=function(){return!r.state["Bitcoin Address error"]&&!r.state["Amount error"]&&r.state["Bitcoin Address"]&&r.state["Bitcoin Address"].length&&r.state.Amount&&r.state.Amount.length?new O(!0):new O(!1,new C("Please ensure that all required fields are filled."))},r.handleChange=function(e,t){var a,n=t.name,s=t.value,o=r.validate(n,s),i=o.success,c=o.error,l="".concat(n," error"),u=i?r.removeError(r.state.errorList,n):r.appendError(r.state.errorList,n,c),d=(a={},Object(E.a)(a,n,s),Object(E.a)(a,l,!i),Object(E.a)(a,"otherError",!1),Object(E.a)(a,"errorList",u),a);r.setState(d)},r.handleSubmit=function(){var e=r.validateSubmission(),t=e.success,a=e.error;if(t){var n=y.currency.convertCurrencyTo(r.state.Amount,"satoshi",r.props.currency),s=new y.models.Payment(r.state["Bitcoin Address"],n),o=r.props.callback(s);o.success||r.setState({otherError:o.error.message})}else r.setState({otherError:a.message})},r.appendError=function(e,t,r){var a=e.slice(0),n=!1;return a.forEach(function(e,s){n||e.field!==t||(a[s].message=r.message,n=!0)}),n||a.push({field:t,message:r.message}),a},r.removeError=function(e,t){return e.filter(function(e){return e.field!==t})};var a=r.getInitialFormValues(r.props.tutorial);return r.state=Object(b.a)({},{errorList:[],"Amount error":!1,"Bitcoin Address error":!1,otherError:!1},a),r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.otherError,t=this.state["Bitcoin Address error"],r=this.state["Amount error"],a=t||r||e&&e.length>0;return n.a.createElement("div",{style:{margin:"0.5rem"}},n.a.createElement(U.a,{style:{width:"100%"}},n.a.createElement(U.a.Content,null,n.a.createElement(w.a,{onSubmit:this.handleSubmit,error:a,style:{margin:"0"}},n.a.createElement(k.a,{error:!0,header:"Invalid Input",content:n.a.createElement("p",{style:{overflowWrap:"break-word"}},e||this.state.errorList.length&&this.state.errorList[0].message)}),n.a.createElement(w.a.Group,null,n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"Bitcoin Address",name:"Bitcoin Address",value:this.state["Bitcoin Address"],onChange:this.handleChange,placeholder:"Bitcoin Address",width:10,error:t}),n.a.createElement(w.a.Input,{style:{marginBottom:"1rem"},label:"Amount",name:"Amount",value:this.state.Amount,onChange:this.handleChange,placeholder:"Amount",width:6,type:"number",min:0,error:r,step:this.stepSize})),n.a.createElement(w.a.Button,{content:"Add Payment",disabled:a})))))}},{key:"stepSize",get:function(){return S(this.props.currency.toLowerCase())}}]),t}(a.Component),D=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{width:"100%",flexGrow:1,display:"flex",flexDirection:"column"}},n.a.createElement(G,{balance:this.props.balance,currency:this.props.currency,callback:this.props.setCurrency,upward:!1}),n.a.createElement(z,{callback:this.props.callback,currency:this.props.currency,network:this.props.network,tutorial:this.props.tutorial}),n.a.createElement(F,{payments:this.props.payments,currency:this.props.currency,callback:this.props.removePayment}))}}]),t}(a.Component),L=function(){return n.a.createElement("div",null,"Error")},N=r(72),W=r(725),q=r(737),V=r(363),Y=r.n(V),Q=function(e){function t(e){var r;Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).validateAddress=function(e){if(!e.length)return new O(!0);try{var t=y.utils.getAddressFormat(e).toUpperCase();if("P2PKH"!==t)return new O(!1,new Error("Address type ".concat(t," is not supported. Please supply a P2PKH address.")))}catch(s){return s instanceof y.models.InvalidInputError?new O(!1,new Error("Unrecognised address format. Please supply a P2PKH address.")):new O(!1,new Error("An unexpected error has occurred."))}try{var a=y.utils.getAddressNetwork(e).toUpperCase(),n=r.props.network.toUpperCase();if(a!==n)return new O(!1,new Error("This address belongs to an compatible network: ".concat(a,".\n          Please use an address from the ").concat(n," or create a new ").concat(a," transaction.")))}catch(s){return s instanceof y.models.InvalidInputError?new O(!1,new Error("Unrecognised address network. Please supply a P2PKH address.")):new O(!1,new Error("An unexpected error has occurred."))}return new O(!0)},r.handleChange=function(e,t){var a=t.value,n=r.validateAddress(a);if(n.success){var s=r.props.setReturnAddress;r.setState({value:a,error:!1,errorMessage:""}),s(a)}else{var o=r.state.triggerAnimation;r.setState({error:!0,errorMessage:n.error.message,triggerAnimation:!o})}},r.handleSearchChange=function(e,t){var a=t.searchQuery,n=r.validateAddress(a);n.success?r.setState({searchQuery:a,error:!1,errorMessage:"",triggerAnimation:!1}):r.setState({searchQuery:a,error:!0,errorMessage:n.error.message,triggerAnimation:!0})};var a=e.addresses.map(function(e){return{key:e,value:e,text:e}});return a.push({key:"",value:"",text:"None"}),r.state={searchQuery:e.returnAddress,value:e.tutorial?e.addresses[0]:"",error:!1,errorMessage:"",triggerAnimation:!1,stateOptions:a},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchQuery,r=e.value,a=e.error,s=e.errorMessage,o=e.triggerAnimation;return n.a.createElement("div",{style:{flexGrow:1}},a&&n.a.createElement(q.a,{animation:"shake",duration:200,visible:o},n.a.createElement(k.a,{error:!0,header:"Invalid Input",content:n.a.createElement("p",{style:{overflowWrap:"break-word"}},s)})),n.a.createElement(H.a,{fluid:!0,onChange:this.handleChange,onSearchChange:this.handleSearchChange,options:this.stateOptions,placeholder:"Select Return Address",search:!0,searchQuery:t,selection:!0,value:r,error:a}))}},{key:"stateOptions",get:function(){var e=this.state,t=e.stateOptions,r=e.searchQuery,a=this.props.addresses;if(r.length&&!a.includes(r)){var n=t.slice(0);return n.push({key:r,value:r,text:r}),n}return t}}]),t}(a.Component),X=[{key:0,text:"Satoshi",value:"Satoshi"},{key:1,text:"mBTC",value:"mBTC"},{key:2,text:"BTC",value:"BTC"}],_=[{key:"byte",text:"bytes",value:"byte"},{key:"kB",text:"kB",value:"kB"}],J=function(e){function t(e){var r;Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).changeSizeUnit=function(e,t){var a=t.value;r.setState({sizeUnit:a})},r.setReturnAddress=function(e){r.setState({returnAddress:e})},r.handleChange=function(e,t){var a=t.value,n=y.currency.convertCurrencyTo(a,"satoshi",r.props.currency),s=r.calculateFeeState(n,r.state.returnAddress);r.setState(Object(b.a)({},s,{totalFee:a})),r.props.setReturnPayment(s.returnPayment)},r.calculateDefaultAddressState=function(e,t){var a=r.props.payments,n=0;t&&(a=[].concat(Object(h.a)(a),[t]),n=t.amount);var s=y.transaction.createSignedTransaction(r.props.contributions,a,r.props.privKeysArg),o=Math.ceil(y.fees.getFeeRate(s,e));return{size:s.getSize(),feeRate:o,remainingBalance:n,error:!1,errorMessage:"",triggerAnimation:!1,returnPayment:null}},r.calculateFeeState=function(e,t,a){if(!t||a)return r.calculateDefaultAddressState(e,a);var n=r.props.balance-e;if(n<0)return{size:0,feeRate:"",remainingBalance:"ERROR",error:!0,errorMessage:"Total fee must be less than or equal to the available balance.",triggerAnimation:!0,returnPayment:null};var s=new y.models.Payment(t,n),o=[].concat(Object(h.a)(r.props.payments),[s]),i=y.transaction.createSignedTransaction(r.props.contributions,o,r.props.privKeysArg),c=Math.ceil(y.fees.getFeeRate(i,e));return{size:i.getSize(),feeRate:c,remainingBalance:n,error:!1,errorMessage:"",triggerAnimation:!1,returnPayment:s}},r.setCurrency=function(e,t){var a=t.value;r.props.setCurrency(a)};var a=e.returnPayment?e.balance-e.returnPayment.amount:e.balance,n=y.currency.convertCurrencyTo(a,r.props.currency),s=e.returnPayment?e.returnPayment.to:"",o=r.calculateFeeState(a,s,e.returnPayment);return r.state=Object(b.a)({},{returnAddress:s,message:"Autmatic fee calculation may not be able to use the exact fee rate requested.\n        In such cases it will instead use the closest fee rate possible.",sizeUnit:r.rateOptions[0].value,totalFee:n},o),r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(this.state.returnAddress!==t.returnAddress){var r=y.currency.convertCurrencyTo(this.state.totalFee,"satoshi",this.props.currency),a=this.calculateFeeState(r,this.state.returnAddress);this.setState(Object(b.a)({},a,{totalFee:y.currency.convertCurrencyTo(r,this.props.currency)})),this.props.setReturnPayment(a.returnPayment)}if(this.props.currency!==e.currency){var n=y.currency.convertCurrencyTo(this.state.totalFee,this.props.currency,e.currency);this.setState({totalFee:n})}}},{key:"render",value:function(){var e=y.fees.formatSize(y.currency.convertCurrencyTo(this.state.feeRate,this.props.currency),this.state.sizeUnit),t=y.currency.convertCurrencyTo(this.state.remainingBalance,this.props.currency),r=y.fees.formatSize(this.state.size,this.state.sizeUnit);return n.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto"}},n.a.createElement("div",{style:{flexGrow:"1",display:"flex",background:N.lime,margin:"0.5rem 0.5rem 0 0.5rem",borderRadius:"0.5rem 0.5rem 0 0",backgroundImage:"url(".concat(Y.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",background:N.lime,margin:"0 0.5rem 0.5rem 0.5rem",borderRadius:"0 0 0.5rem 0.5rem"}},n.a.createElement("div",{style:{fontSize:"2em",margin:"2rem 2rem 1rem 2rem",textAlign:"center"}},"Remaining Balance: ","".concat(t," ").concat(this.props.currency)),n.a.createElement("div",{style:{display:"flex",margin:"1rem 2rem 2rem 2rem"}},n.a.createElement(Q,{setReturnAddress:this.setReturnAddress,returnAddress:this.state.returnAddress,addresses:this.props.addresses,network:this.props.network,tutorial:this.props.tutorial})),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"2rem 1rem 1rem 1rem",background:N.lightLime,borderRadius:" 0 0 0.5rem 0.5rem"}},this.message,n.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},n.a.createElement("div",{style:{margin:"auto 0.5rem",width:"10rem"}},"Total Fees"),n.a.createElement(W.a,{style:{flexGrow:"0.3",margin:"0.5rem",width:"20rem"},value:this.state.totalFee,onChange:this.handleChange,disabled:!this.state.returnAddress,label:n.a.createElement(H.a,{options:X,onChange:this.setCurrency,value:this.props.currency,upward:!0}),labelPosition:"right",type:"number",min:0,step:1})),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},n.a.createElement("div",{style:{margin:"auto 0.5rem",width:"10rem"}},"Fee Rate"),n.a.createElement(W.a,{style:{flexGrow:"0.3",margin:"0.5rem",width:"20rem"},value:e,disabled:!0,label:n.a.createElement(H.a,{options:this.rateOptions,onChange:this.changeSizeUnit,value:this.state.sizeUnit,upward:!0}),labelPosition:"right",type:"number",min:0})),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},n.a.createElement("div",{style:{margin:"auto 0.5rem",width:"10rem"}},"Size"),n.a.createElement(W.a,{style:{flexGrow:"0.3",margin:"0.5rem",width:"20rem"},value:r,disabled:!0,label:n.a.createElement(H.a,{options:_,onChange:this.changeSizeUnit,value:this.state.sizeUnit,upward:!0}),labelPosition:"right",type:"number",min:0})))))}},{key:"rateOptions",get:function(){return[{key:"byte",text:"".concat(this.props.currency,"/byte"),value:"byte"},{key:"kB",text:"".concat(this.props.currency,"/kB"),value:"kB"}]}},{key:"message",get:function(){return this.state.error?n.a.createElement(q.a,{animation:"shake",duration:200,visible:this.state.triggerAnimation},n.a.createElement(k.a,{negative:!0,header:"Invalid Input",content:n.a.createElement("p",{style:{overflowWrap:"break-word"}},this.state.errorMessage)})):null}}]),t}(a.Component);function Z(e){var t=e.log,r=e.showResult;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},"".concat(t.action," ")),t.object),t.hasSubaction()&&n.a.createElement("div",{style:{marginTop:"0.5rem",opacity:"0.6"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"Sub-Action"),t.subaction.map(function(e){return n.a.createElement("div",{style:{marginTop:"0.5rem"}},e.log)})),r&&t.hasResult()&&n.a.createElement("div",{style:{marginTop:"0.5rem",opacity:"0.6"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"Result"),t.result.map(function(e){return n.a.createElement("div",{style:{marginTop:"0.5rem"}},e)})))}var $=r(735),ee=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleHover=function(e){e.stopPropagation()},r.handleClick=function(e){e.stopPropagation()},r.state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderGroup",value:function(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.a.createElement("div",null,"EMPTY"));return e.value?"string"===typeof e.value[0]?r=n.a.createElement("div",null,e.value[0]):Array.isArray(e.value[0])&&(r=e.value.map(function(r,a){return n.a.createElement("div",{style:{marginTop:"1rem"}},n.a.createElement("b",null,"".concat(e.key,":").concat(a)),t.renderSubGroup(r))})):r=n.a.createElement("div",null,"Undefined"),this.renderSegment(e.key,r)}},{key:"renderSubGroup",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.a.createElement("div",{style:{marginLeft:"1rem"}},e.map(function(e){var r="string"===typeof e.value[0]?e.value:t.renderSubGroup(e.value);return n.a.createElement("div",{style:{wordBreak:"break-word"}},n.a.createElement("b",null,e.key,":")," ",r)}))}},{key:"renderSegment",value:function(e,t){return n.a.createElement(A.a,null,n.a.createElement($.a,{sub:!0,style:{marginBottom:"0.5rem"}},e),n.a.createElement("div",null,t))}},{key:"render",value:function(){var e=this;return n.a.createElement(A.a.Group,{onClick:this.handleClick,onMouseOver:this.handleHover,onMouseLeave:this.handleHover},this.props.snapshot.map(function(t){return e.renderGroup(t)}))}}]),t}(a.Component),te=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleHoverOver=function(){r.setState({hover:!0})},r.handleHoverExit=function(){r.setState({hover:!1})},r.handleClick=function(){r.setState({showSnapshot:!r.state.showSnapshot})},r.state={hover:!1,showSnapshot:!1},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderSnapshot",value:function(){if(this.state.showSnapshot)return n.a.createElement(ee,{snapshot:this.props.snapshot})}},{key:"render",value:function(){return n.a.createElement(A.a,{inverted:!0,style:{overflow:"auto",fontStyle:"bold"},color:"teal",tertiary:this.state.hover,onMouseOver:this.handleHoverOver,onMouseLeave:this.handleHoverExit,onClick:this.handleClick},n.a.createElement($.a,{as:"h4"},this.props.item.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),this.renderSnapshot())}}]),t}(a.Component),re=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).createSection=function(e,t,a){var n=t.getValue(e);return y.utils.isIterable(n[0])?n.map(function(t,a){var n=e.substring(0,e.length-1);return r.createSegmentGroup("".concat(n," ").concat(a),t,a)}):r.createSegmentGroup(e,n,a)},r.createSegmentGroup=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=t[t.length-1];if(s instanceof y.models.OrderedDict){var o=s.getKeys();s=(s=s.getValue(o[o.length-1]))[s.length-1]}var i=s.transactionDict.getArray();return n.a.createElement(A.a.Group,{key:a},n.a.createElement(te,{item:e,snapshot:i}),t.map(function(e,t){return r.createSegment(e,a,t)}))},r.createSegment=function(e,t,a){if(y.utils.isIterable(e)){var s=e[0],o=Object(h.a)(e).splice(1);return[r.createSegment(s,t,a+1)].concat(r.createSubSegments(o,t,a+1))}return e instanceof y.models.OrderedDict?e.getKeys().map(function(t,s){return[n.a.createElement(A.a,{inverted:!0,color:"teal",secondary:!0},t),r.createSegment(e.getValue(t),t,"".concat(a,".").concat(s))]}):n.a.createElement(A.a,{key:"".concat(t,".").concat(a,".").concat(e.log),style:{overflow:"auto",wordBreak:"break-all"}},n.a.createElement(Z,{log:e,showResult:!0}))},r.createSubSegments=function(e,t,r){return e.map(function(e,a){return e.hasSubaction&&e.hasSubaction()?e.subaction.map(function(s){return n.a.createElement("div",{key:"".concat(t,".").concat(r,".").concat(a,".").concat(e.log),style:{display:"flex"}},n.a.createElement("div",{style:{backgroundColor:"grey",minWidth:"20px"}}),n.a.createElement(A.a,{style:{overflow:"auto",marginTop:"0",flexGrow:"1",borderBottom:"none",borderRadius:"0",wordBreak:"break-all"}},n.a.createElement(Z,{log:s,showResult:!0})))}):n.a.createElement("div",{key:"".concat(t,".").concat(r,".").concat(a,".").concat(e.log),style:{display:"flex"}},n.a.createElement("div",{style:{backgroundColor:"grey",minWidth:"10px"}}),n.a.createElement(A.a,{style:{overflow:"auto",marginTop:"0",flexGrow:"1",borderBottom:"none",borderRadius:"0",wordBreak:"break-all"}},n.a.createElement(Z,{log:e,showResult:!0})))})},r.state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.transaction;return n.a.createElement("div",{style:{flexBasis:1,flexShrink:1,flexGrow:1,overflowY:"scroll",margin:"0.5rem",paddingRight:"0.5rem"}},t.logger.getKeys().map(function(r,a){return e.createSection(r,t.logger,a)}))}}]),t}(a.Component),ae=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(A.a,{style:{overflow:"auto",fontSize:"2.5em",padding:"1.5rem"}},this.segmentedHash)}},{key:"segmentedHash",get:function(){return y.utils.joinArray(this.props.transaction.transactionDict).array.join("")}}]),t}(a.Component),ne=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={transaction:e.transaction,txhash:y.utils.joinArray(e.transaction.transactionDict).array.join("")},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{width:"100%",flexGrow:"1",display:"flex",flexDirection:"column"}},n.a.createElement("div",{style:{margin:"0.5rem"}},n.a.createElement(ae,{transaction:this.state.transaction})),n.a.createElement(re,{transaction:this.state.transaction}))}}]),t}(a.Component),se=r(366),oe=r.n(se),ie=r(367),ce=r.n(ie),le=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleMouseEnter=function(){r.props.unlocked&&r.setState({backgroundColor:N.darkPink})},r.handleMouseExit=function(){r.props.unlocked&&r.setState({backgroundColor:N.lightPink})},r.handleChange=function(e,t){var a=t.value,n=r.validatePriv(a);n.success?r.setState({formValue:a,error:!1,errorMessage:"",triggerAnimation:!1}):r.setState({formValue:a,error:!0,errorMessage:n.error.message,triggerAnimation:!0})},r.handleClick=function(){r.props.removeKey(r.props.address)},r.validatePriv=function(e){try{if(e){var t=y.utils.getPrivateKeyFormat(e);if("wif_compressed"!==t&&"wif"!==t)return new O(!1,new Error("Invalid key format '".concat(t.toUpperCase(),"'.\n            Please encode your key as WIF.")))}}catch(r){return r instanceof y.models.InvalidInputError?new O(!1,new Error("Invalid key format. Please ensure that your key is encoded as WIF.")):new O(!1,new Error("An unexpected error has occured."))}return new O(!0)},r.handleSubmit=function(){if(!r.state.error)return r.props.callback(r.props.address,r.state.formValue);r.setState({triggerAnimation:!r.state.triggerAnimation})},r.renderForm=function(){return n.a.createElement(w.a,{style:{margin:"1rem",marginTop:"2.5rem"},onSubmit:r.handleSubmit,error:r.state.error},n.a.createElement(q.a,{animation:"shake",duration:200,visible:r.state.triggerAnimation},n.a.createElement(k.a,{error:!0,header:"Invalid Input",content:n.a.createElement("p",{style:{overflowWrap:"break-word"}},r.state.errorMessage)})),n.a.createElement(w.a.Input,{name:r.props.address,value:r.state.formValue||"",onChange:r.handleChange,type:r.props.tutorial?"text":"password",placeholder:"Insert private key",error:r.state.error}),n.a.createElement(w.a.Button,{content:"Unlock",style:{float:"right",margin:0}}))},r.state={hover:!1,backgroundColor:N.lightPink,formValue:e.tutorial?"cRKHcyn9Diw4GmcAaxRUdJH3Kgaz3j1KBFq1i6QwC2U9STqK7YXm":"",error:!1,errorMessage:"",triggerAnimation:!1},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={display:"flex",flexDirection:"column",flexGrow:1,background:this.state.backgroundColor};return this.props.unlocked?e.borderRadius="0.5rem":(e.borderTopLeftRadius="0.5rem",e.borderTopRightRadius="0.5rem"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"0.5rem",marginTop:"0",flexGrow:1,background:"white",borderRadius:"0.5rem",minHeight:"20rem"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseExit,onClick:this.handleClick},n.a.createElement("div",{style:e},n.a.createElement("div",{style:{flexGrow:2}}),n.a.createElement("img",{style:{flexGrow:6},src:this.props.unlocked?ce.a:oe.a,alt:this.props.unlocked?"unlockIcon":"lockIcon"}),n.a.createElement("div",{style:{flexGrow:2,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"}},n.a.createElement("div",{style:{color:"white",overflowX:"auto",fontWeight:"bold"}},this.props.address))),!this.props.unlocked&&this.renderForm())}}]),t}(a.Component),ue=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e,t){r.props.addPrivateKey(e,t)},r.removePrivateKey=function(e){r.props.removePrivateKey(e)},r.state={},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto",marginTop:"0.5rem"}},this.props.transactions.map(function(t){var r="".concat(t.txHash,":").concat(Object.keys(t.outputs)[0]);return n.a.createElement(le,{address:r,callback:e.handleSubmit,removeKey:e.removePrivateKey,key:r,unlocked:e.props.privKeys[r]&&e.props.privKeys[r].length>0,tutorial:e.props.tutorial})}))}}]),t}(a.Component),de=r(728);var he=function(e){var t=e.open,r=e.handleOpen,a=e.handleClose,s=e.message;return n.a.createElement(de.a,{open:t,onOpen:r,onClose:a},n.a.createElement(de.a.Header,null,"Error"),n.a.createElement(de.a.Content,null,n.a.createElement(de.a.Description,null,n.a.createElement("p",{style:{wordBreak:"break-word"}},s))))},me=r(376);var pe=function(e){var t=e.open,r=e.handleOpen,a=e.handleClose,s=e.message,o=e.result,i=e.tutorial,c=e.reset;return n.a.createElement(de.a,{open:t,onOpen:r,onClose:a,closeIcon:!0},n.a.createElement(de.a.Header,null,"Transaction Submitted"),n.a.createElement(de.a.Content,{scrolling:!0},n.a.createElement(de.a.Description,null,n.a.createElement($.a,null,"Submission ",o),i?n.a.createElement("div",null,n.a.createElement("p",{style:{wordBreak:"break-word"}},"Congratulations! You have completed the tutorial. Click the button below to return to the starting page.")):"Succeeded"===o?n.a.createElement("div",{style:{overflow:"auto"}},n.a.createElement(me.ObjectInspector,{data:s,name:"response",expandLevel:10})):n.a.createElement("p",{style:{wordBreak:"break-word"}},s))),n.a.createElement(de.a.Actions,null,n.a.createElement(f.a,{onClick:c},"Return To Home")))},fe=r(390),ye=r(730),ge=r(73),ve=r(377),be=r.n(ve),Ee=r(378),we=r.n(Ee),ke=r(379),xe=r.n(ke),Oe=r(380),Ce=r.n(Oe),Se=r(381),Te=r.n(Se),je=r(382),Pe=r.n(je),Ae=r(383),Be=r.n(Ae),Ie=r(384),Ke=r.n(Ie),He=r(385),Re=r.n(He),Ge=r(386),Me=r.n(Ge);var Fe=function(e){function t(e){var r;Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handlePaginationChange=function(e,t){var a=t.activePage,n=t.totalPages;a>0&&a<=n&&r.setState({activePage:a})},r.getPages=function(){switch(r.props.frame){case"contribution":return[{title:"Add Transaction Input",page:n.a.createElement("div",null,n.a.createElement("p",null,'Bitcoin balances are stored within bitcoin transactions. Not wallets. Not addresses. Transaction are defined about "inputs" and "outputs". Inputs are references to other transaction outputs, they act like contributions to the transaction and define the collective value. Outputs are then analogous to payments, where the collective value of the inputs are spent.'),n.a.createElement("p",null,"ALL unspent bitcoins are spent as fees."),n.a.createElement("p",null,"Here, we first define the inputs. Begin by using the automatic input system, that utilizes a third party service to extract unspent balances belonging to an address. Or, make use of the manual input system to fill in the necessary information yourself."))},{title:"Add Input Automatically",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:be.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},'To add an input/ inputs using the automatic system, simply enter in your bitcoin address and click "Add Contribution". This will pull all the unspent transaction outputs that relate to the specified address. The inputs may be pruned as necessary. The address should exist in the network that was selected on the first page.'))},{title:"Add Input Manually",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:we.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"A transaction input requires 3 pieces of information to be defined."),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("h5",null,"The transaction hash"),"To identify the transaction where the bitcoins are stored/recieved."),n.a.createElement("li",null,n.a.createElement("h5",null,"The output index"),"To identify which output within the specified transaction that the bitcoins are stored."),n.a.createElement("li",null,n.a.createElement("h5",null,"The script"),'This is the authentication measure required to prove the ownership of the value. Effectively, it is the "lock" that secures the bitcoins.')),n.a.createElement("p",null,'To add an input using the manual system, provide the above stated details and click "Add Contribution". Once again, the transaction should belong to the network selected on the first page.'),n.a.createElement("p",null,"The balance is not required to define the transaction input. However it is necessitated in this software as a convenience measure for later computation."))},{title:"Changing The Currency Format",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Ce.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"The currency format can be changed by using the dropdown next to the balance shown in the picture above. This will change the currency displayed as well as the currency for input."))},{title:"Tutorial",page:n.a.createElement("div",null,n.a.createElement("p",null,'The manual input form has been filled out for you. Please click "Add Contribution" to add the defined transaction input and click "Next" on the bottom right to continue.'))}];case"payment":return[{title:"Add Transaction Outputs",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:xe.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"After defining inputs for our transaction, we can now create the outputs for our expenditures."),n.a.createElement("p",null,'To add an output, simply enter in the bitcoin address of your recipient, the amount you wish to send and click "Add Payment". Similar to the inputs, ensure that the recipient address exists on the selected network.'))},{title:"Tutorial",page:n.a.createElement("div",null,n.a.createElement("p",null,'The input form for payments has been filled out for you. Please click "Add Payment" to add the pre-defined transaction output. Then click "Next" on the bottom right to continue.'))}];case"signing":return[{title:"Authentication",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Te.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"We now need to authenticate the usage of each of our transaction inputs, i.e prove that we own the funds that we are trying to access."),n.a.createElement("p",null,'For each transaction input, enter the private key for each bitcoin address that corresponds. Press the "Unlock" button to authenticate the transaction input. Once unlocked, you can press the lock icon to unauthenticate.'))},{title:"Tutorial",page:n.a.createElement("div",null,n.a.createElement("p",null,'The private key has been filled out for you. Please click the "Unlock" button and click "Next" on the bottom right to continue.'))}];case"fees":return[{title:"Fees",page:n.a.createElement("div",null,n.a.createElement("p",null,"The last step is to set the amount of change that you wish to recieve."),n.a.createElement("p",null,'The fee is calculated as the collected input minus the spent output. Therefore anything that you don\'t spend is used as fee to process your transaction. We circumvent this and simulate the idea of "change", by sending money back to ourself.'))},{title:"Set Return Address",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Be.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"Use the above dropdown to set which return address you wish to use for change, or input an unlisted address. Alternatively you can leave the return address unset. However, no change will be processed and all unspent inputs will be used in the fee."))},{title:"Set Fee Rate",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Pe.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"Here we can see the total fee, the fee rate and the transaction size. The higher the fee rate, the quicker your transaction will be processed. However, conversely this means that if your fee rate is too low, then your transaction may end up ",n.a.createElement("b",null,"never")," being processed."),n.a.createElement("p",null,"Use the input provided to fine tune the fee rate. It may be beneficial to use an online service to check what the standard fee rate is for your chosen network."))},{title:"Tutorial",page:n.a.createElement("div",null,n.a.createElement("p",null,'The return address has been decided for you. Click on the drop down and select the return address for confirmation. Tune the fee rate however you wish. Then, click "Next" on the bottom right to continue.'))}];case"transaction":return[{title:"Transaction Breakdown",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Ke.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"And That's all. You have created the transaction."),n.a.createElement("p",null,'The sequence of numbers at the top shows your raw signed transaction. This contains all the data regarding your transaction. It is also used to create the "transaction hash" as seen previously.'),n.a.createElement("p",null,"The breakdown below show section by section all the steps that was required to create the transaction."))},{title:"Breakdown Sections",page:n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("h5",null,"Version Code"),"This software creates only version 1 transactions."),n.a.createElement("p",null,n.a.createElement("h5",null,"Input Count"),"This defines how many inputs are used in the transaction."),n.a.createElement("p",null,n.a.createElement("h5",null,"Inputs"),"Each input is then defined."),n.a.createElement("p",null,n.a.createElement("h5",null,"Output Count"),"This defines how many outputs are used in the transaction."),n.a.createElement("p",null,n.a.createElement("h5",null,"Outputs"),"Each output is then defined."),n.a.createElement("p",null,n.a.createElement("h5",null,"Locktime"),"This defines a restriction on when a transaction can be processed based on either block height or unix epoch. This software does not support variable locktime."),n.a.createElement("p",null,n.a.createElement("h5",null,"Signing The Inputs"),"Finally, the inputs are signed based on the constructed raw unsigned transaction. The raw unsigned transaction refers to the transaction that has undergone all the previous steps but has yet to prove ownership of the funds it is trying to access. To sign the transaction, we compute the necessary signatures and then replaces the original input scripts with their respective signature."))},{title:"Show Transaction State",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Re.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},"The section titles can be expanded to show the state of the raw transaction after each computational block. In this view, the transaction state is broken down respectively to show what each substring of the transaction represents."))},{title:"Publish Transaction",page:n.a.createElement("div",null,n.a.createElement(fe.a,{src:Me.a,fluid:!0}),n.a.createElement("p",{style:{wordBreak:"break-word",marginTop:"1rem"}},'Now that you have created your transaction, click the "Publish" button on the bottom right if you wish submit the transaction. Otherwise don\'t. No transfer of balance will be enacted, and you can simply marvel at the transaction that you created.'))}];default:return[]}};var a=r.getPages();return r.state={pages:a,activePage:1,totalPages:a.length},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(de.a,{open:this.props.open,onOpen:this.props.handleOpen,onClose:this.props.handleClose,size:"tiny",closeIcon:!0},n.a.createElement(de.a.Header,null,this.state.pages[this.state.activePage-1].title),n.a.createElement(de.a.Content,{scrolling:!0},n.a.createElement(de.a.Description,null,n.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto"}},n.a.createElement("div",{style:{marginBottom:"1rem"}},this.state.pages[this.state.activePage-1].page)))),n.a.createElement(de.a.Actions,null,n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement(ye.a,{activePage:this.state.activePage,prevItem:{content:n.a.createElement(ge.a,{name:"angle left"}),icon:!0},nextItem:{content:n.a.createElement(ge.a,{name:"angle right"}),icon:!0},firstItem:null,lastItem:null,pointing:!0,secondary:!0,onPageChange:this.handlePaginationChange,totalPages:this.state.totalPages}))))}}]),t}(a.Component),Ue={value:"starting",order:0},ze={value:"contribution",order:1},De=[Ue,ze,{value:"payment",order:2},{value:"signing",order:3},{value:"fees",order:4},{value:"transaction",order:5}],Le=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).reset=function(){r.setState(t.defaultState)},r.handleOpenModal=function(){r.setState({modalOpen:!0})},r.handleCloseModal=function(){r.setState({modalOpen:!1,error:!1,showhelp:!1})},r.addTransactions=function(e){var t=Array.isArray(e)?e:[e],a=r.checkDuplicateTransactions(t);if(!a.success)return a;var n=r.state.txs.slice(0);return n=[].concat(Object(h.a)(n),Object(h.a)(t)),r.setState({txs:n}),new O(!0)},r.checkDuplicateTransactions=function(e){var t=Array.isArray(e)?e:[e],a=r.state.txs,n=new O(!0);e:for(var s=0;s<t.length;s+=1)for(var o=t[s],i=0;i<a.length;i+=1){var c=a[i];if(o.txHash===c.txHash&&Object.keys(o.outputs)[0]===Object.keys(c.outputs)[0]){n=new O(!1,new Error("".concat(c.txHash,":").concat(Object.keys(c.outputs)[0]," already exists. Please remove the transaction and try again.")));break e}}return n},r.removeTransaction=function(e,t){var a=r.state.txs.slice(0),n=a.findIndex(function(r){return r.txHash===e&&Object.keys(r.outputs)[0]===t});a.splice(n,1),r.setState({txs:a}),r.removePrivateKey("".concat(e,":").concat(t))},r.removePayment=function(e,t){var a=r.state.payments.slice(0),n=a.findIndex(function(r){return r.to===e&&r.amount===t});a.splice(n,1),r.setState({payments:a})},r.appendToPayments=function(e){if(r.calculateBalance()-e.amount<0)return new O(!1,new Error("Insufficient funds."));var t=r.state.payments.slice(0);return t.push(e),r.setState({payments:t}),new O(!0)},r.appendToPrivateKeys=function(e,t){var a=r.state.privKeys;a[e]=t,r.setState({privKeys:a})},r.removePrivateKey=function(e){var t=r.state.privKeys;delete t[e],r.setState({privKeys:t})},r.getAddressesFromPrivs=function(e){var t=e?e.slice(0):[];return Object.keys(r.state.privKeys).forEach(function(e){var a=r.state.privKeys[e],n=y.utils.privToAddress(a,r.state.network);t.includes(n)||t.push(n)}),t},r.getAddressesFromPayments=function(e){var t=e?e.slice(0):[];return r.state.payments.forEach(function(e){t.includes(e.to)||t.push(e.to)}),t},r.getAllAddresses=function(){var e=r.getAddressesFromPrivs();return r.getAddressesFromPayments(e)},r.setCurrency=function(e){r.setState({currency:e})},r.setReturnPayment=function(e){r.setState({returnPayment:e})},r.validate=function(){switch(r.state.frame.value){case"starting":return new O(!0);case"contribution":return r.state.txs.length?new O(!0):new O(!1,new Error("Please add at least one contribution to continue."));case"payment":return r.state.payments.length?new O(!0):new O(!1,new Error("Please add at least one payment to continue."));case"signing":case"fees":return r.validatePrivKeys()?new O(!0):new O(!1,new Error("Please ensure that you have unlocked each of the transactions."));case"transaction":default:return new O(!1)}},r.calculateBalance=function(){return r.contributions.reduce(function(e,t){return e+Number(t.output.balance)},0)-r.state.payments.reduce(function(e,t){return e+Number(t.amount)},0)},r.getPrivKeyArgs=function(){var e=[],t=!0;return r.contributions.forEach(function(a){var n=r.state.privKeys["".concat(a.txHash,":").concat(a.output.outputIndex)];n?e.push(n):t=!1}),t?e:t},r.validatePrivKeys=function(){return!!r.getPrivKeyArgs()&&(r.setState({modTx:r.modTransaction}),!0)},r.handleNavigation=function(e,t){if("back"===e&&r.state.frame===ze)r.reset();else{if("next"===e){var a=r.validate();if(!a.success)return void r.setState({error:!0,errorMessage:a.error.message,modalOpen:!0})}var n="next"===e?1:-1,s=De[r.state.frame.order+n],o=!(!r.state.tutorial&&!t),i=o;r.setState({frame:s,showhelp:o,modalOpen:i})}},r.handleClick=function(e,t){var a=t.value;r.handleNavigation(a)},r.setTransactionMode=function(e){switch(e){case"mainnet":case"testnet":r.setState({network:e});break;case"tutorial":return r.setState({network:"testnet",tutorial:!0}),r.handleNavigation("next",!0);default:return alert("error"),!1}return r.handleNavigation("next")},r.publish=function(){r.state.tutorial?r.setState({modalOpen:!0,publishResult:"Succeeded"}):(r.setState({loading:!0}),r.state.modTx.pushtx(r.state.network).then(function(e){r.setState({loading:!1,publishMessage:e.data,modalOpen:!0,publishResult:"Succeeded"})}).catch(function(e){r.setState({loading:!1,publishMessage:e.message,modalOpen:!0,publishResult:"Failed"})}))},r.state=t.defaultState,r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"}},n.a.createElement(m.a,{active:this.state.loading},n.a.createElement(p.a,null)),this.modal,this.frame,n.a.createElement("div",{style:{margin:"0.5rem"}},this.navigationButtons))}},{key:"modTransaction",get:function(){var e=this.getPrivKeyArgs(),t=this.state.payments.slice(0);return this.state.returnPayment&&t.push(this.state.returnPayment),y.transaction.createSignedTransaction(this.contributions,t,e)}},{key:"contributions",get:function(){var e=[];return this.state.txs.forEach(function(t){e=e.concat(t.getContributions())}),e}},{key:"frame",get:function(){switch(this.state.frame.value){case"starting":return n.a.createElement(g,{callback:this.setTransactionMode});case"contribution":return n.a.createElement(M,{addTransactions:this.addTransactions,removeTransaction:this.removeTransaction,contributions:this.contributions,currency:this.state.currency,balance:this.calculateBalance(),setCurrency:this.setCurrency,tutorial:this.state.tutorial,network:this.state.network});case"payment":return n.a.createElement(D,{callback:this.appendToPayments,payments:this.state.payments,balance:this.calculateBalance(),removePayment:this.removePayment,currency:this.state.currency,setCurrency:this.setCurrency,network:this.state.network,tutorial:this.state.tutorial});case"signing":return n.a.createElement(ue,{transactions:this.state.txs,addPrivateKey:this.appendToPrivateKeys,removePrivateKey:this.removePrivateKey,privKeys:this.state.privKeys,tutorial:this.state.tutorial});case"fees":return n.a.createElement(J,{addresses:this.getAllAddresses(),contributions:this.contributions,payments:this.state.payments,privKeysArg:this.getPrivKeyArgs(),balance:this.calculateBalance(),network:this.state.network,tutorial:this.state.tutorial,currency:this.state.currency,setCurrency:this.setCurrency,setReturnPayment:this.setReturnPayment,returnPayment:this.state.returnPayment});case"transaction":return n.a.createElement(ne,{contributions:this.contributions,payments:this.state.payments,transaction:this.state.modTx});default:return n.a.createElement(L,null)}}},{key:"navigationButtons",get:function(){var e=n.a.createElement(f.a,{key:"next",style:{float:"right",margin:0},content:"Next",value:"next",icon:"right arrow",labelPosition:"right",onClick:this.handleClick}),t=n.a.createElement(f.a,{key:"back",style:{float:"left",margin:0},content:"Back",value:"back",icon:"left arrow",labelPosition:"left",onClick:this.handleClick}),r=[];switch(this.state.frame.value){case"starting":break;case"contribution":case"payment":case"signing":case"fees":r.push(e),r.push(t);break;case"transaction":var a=n.a.createElement(f.a,{key:"publish",style:{float:"right",margin:0},content:"Publish Transaction",value:"publish",icon:"right arrow",labelPosition:"right",onClick:this.publish});r.push(a),r.push(t);break;default:return n.a.createElement(L,null)}return r}},{key:"modal",get:function(){return this.state.error?n.a.createElement(he,{message:this.state.errorMessage,open:this.state.modalOpen,handleOpen:this.handleOpenModal,handleClose:this.handleCloseModal}):this.state.showhelp?n.a.createElement(Fe,{open:this.state.modalOpen,handleOpen:this.handleOpenModal,handleClose:this.handleCloseModal,frame:this.state.frame.value}):n.a.createElement(pe,{message:this.state.publishMessage,open:this.state.modalOpen,handleOpen:this.handleOpenModal,handleClose:this.handleCloseModal,result:this.state.publishResult,tutorial:this.state.tutorial,reset:this.reset})}}],[{key:"defaultState",get:function(){return{frame:Ue,txs:[],payments:[],privKeys:{},modTx:null,publishMessage:"",publishResult:"",loading:!1,currency:"Satoshi",modalOpen:!1,network:null,error:!1,errorMessage:"",returnPayment:null,tutorial:!1,showhelp:!1}}}]),t}(a.Component),Ne={width:"100%",height:"100%",padding:"0.5rem"},We=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App",style:Ne},n.a.createElement(Le,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t){e.exports={darkPurple:"#100C19",lightPurple:"#44404E",lighterPurple:"#756e87",red:"#ED4141",gold:"#FFE438",lightLime:"#C6F0C6",lime:"#9CE09C",darkLime:"#71CC71",lightPink:"#C24678",darkPink:"#AA4E73"}}},[[398,1,2]]]);
//# sourceMappingURL=main.58d638b2.chunk.js.map